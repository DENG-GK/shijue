# å¸¸ç”¨åº“å®‰è£…

> é™¤äº† OpenCV å’Œ NumPyï¼Œè®¡ç®—æœºè§†è§‰é¡¹ç›®è¿˜éœ€è¦å…¶ä»–è¾…åŠ©åº“æ¥å®Œæˆå¯è§†åŒ–ã€å›¾åƒè¯»å†™ã€æ•°æ®å¤„ç†ç­‰ä»»åŠ¡ã€‚

---

## ğŸ“– ç†è®ºéƒ¨åˆ†

### 1. è®¡ç®—æœºè§†è§‰å¸¸ç”¨åº“æ¦‚è§ˆ

| åº“å | åŠŸèƒ½ | ä¼˜å…ˆçº§ |
|------|------|--------|
| **Matplotlib** | æ•°æ®å¯è§†åŒ–ã€å›¾åƒæ˜¾ç¤º | â­â­â­â­â­ |
| **Pillow (PIL)** | å›¾åƒè¯»å†™ã€åŸºç¡€å¤„ç† | â­â­â­â­ |
| **scikit-image** | å›¾åƒå¤„ç†ç®—æ³•åº“ | â­â­â­ |
| **imageio** | å›¾åƒå’Œè§†é¢‘ I/O | â­â­â­ |
| **scipy** | ç§‘å­¦è®¡ç®—ã€å›¾åƒæ»¤æ³¢ | â­â­â­ |

---

### 2. å„åº“åŠŸèƒ½ä»‹ç»

#### Matplotlib - æ•°æ®å¯è§†åŒ–

**åŠŸèƒ½ï¼š**
- ç»˜åˆ¶å›¾è¡¨ï¼ˆæŠ˜çº¿å›¾ã€æŸ±çŠ¶å›¾ã€æ•£ç‚¹å›¾ç­‰ï¼‰
- æ˜¾ç¤ºå›¾åƒï¼ˆæ¯” cv2.imshow æ›´çµæ´»ï¼‰
- ç»˜åˆ¶å¤šå­å›¾å¯¹æ¯”
- ä¿å­˜é«˜è´¨é‡å›¾åƒ

**å…¸å‹åº”ç”¨ï¼š**
- æ˜¾ç¤ºå›¾åƒå¤„ç†ç»“æœå¯¹æ¯”
- ç»˜åˆ¶ç›´æ–¹å›¾
- å¯è§†åŒ–ç‰¹å¾ç‚¹

---

#### Pillow - Python å›¾åƒåº“

**åŠŸèƒ½ï¼š**
- å›¾åƒè¯»å–ã€ä¿å­˜ï¼ˆæ”¯æŒå¤šç§æ ¼å¼ï¼‰
- åŸºç¡€å›¾åƒå¤„ç†ï¼ˆè£å‰ªã€æ—‹è½¬ã€æ»¤æ³¢ï¼‰
- å›¾åƒæ ¼å¼è½¬æ¢
- ç»˜åˆ¶æ–‡å­—å’Œå›¾å½¢

**å…¸å‹åº”ç”¨ï¼š**
- æ‰¹é‡å¤„ç†å›¾åƒ
- ç”Ÿæˆç¼©ç•¥å›¾
- å›¾åƒæ ¼å¼è½¬æ¢

---

#### scikit-image - å›¾åƒå¤„ç†ç®—æ³•

**åŠŸèƒ½ï¼š**
- å›¾åƒåˆ†å‰²
- ç‰¹å¾æå–
- å½¢æ€å­¦æ“ä½œ
- å›¾åƒæµ‹é‡

**å…¸å‹åº”ç”¨ï¼š**
- é«˜çº§å›¾åƒå¤„ç†
- ç§‘ç ”é¡¹ç›®

---

### 3. ä¾èµ–å…³ç³»è¯´æ˜

```
è®¡ç®—æœºè§†è§‰é¡¹ç›®
â”œâ”€â”€ NumPy (æ ¸å¿ƒä¾èµ–)
â”œâ”€â”€ OpenCV (ä¸»è¦åº“)
â”œâ”€â”€ Matplotlib (å¯è§†åŒ–)
â”œâ”€â”€ Pillow (å›¾åƒ I/O)
â””â”€â”€ scikit-image (é«˜çº§å¤„ç†)
```

---

## ğŸ’» ä»£ç å®æˆ˜

### Matplotlib å®‰è£…

```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
.\venv\Scripts\Activate.ps1

# å®‰è£… Matplotlib
pip install matplotlib

# ä»å›½å†…é•œåƒå®‰è£…
pip install matplotlib -i https://pypi.tuna.tsinghua.edu.cn/simple
```

**éªŒè¯å®‰è£…ï¼š**

```python
# test_matplotlib.py
import matplotlib.pyplot as plt
import numpy as np

# åˆ›å»ºç¤ºä¾‹æ•°æ®
x = np.linspace(0, 10, 100)
y = np.sin(x)

# ç»˜åˆ¶å›¾è¡¨
plt.plot(x, y)
plt.title('Sine Wave')
plt.xlabel('X')
plt.ylabel('Y')
plt.grid(True)
plt.savefig('matplotlib_test.png')
plt.show()

print("âœ… Matplotlib å®‰è£…æˆåŠŸï¼")
```

---

### Pillow å®‰è£…

```bash
# å®‰è£… Pillow
pip install Pillow

# æˆ–ä»é•œåƒå®‰è£…
pip install Pillow -i https://pypi.tuna.tsinghua.edu.cn/simple
```

**éªŒè¯å®‰è£…ï¼š**

```python
# test_pillow.py
from PIL import Image, ImageDraw, ImageFont

# åˆ›å»ºå›¾åƒ
img = Image.new('RGB', (400, 200), color='white')
draw = ImageDraw.Draw(img)

# ç»˜åˆ¶çŸ©å½¢
draw.rectangle([50, 50, 350, 150], outline='blue', width=3)

# æ·»åŠ æ–‡å­—
draw.text((100, 90), 'Pillow Test', fill='red')

# ä¿å­˜å›¾åƒ
img.save('pillow_test.png')
print(f"å›¾åƒå°ºå¯¸ï¼š{img.size}")
print("âœ… Pillow å®‰è£…æˆåŠŸï¼")
```

---

### scikit-image å®‰è£…

```bash
# å®‰è£… scikit-image
pip install scikit-image

# æˆ–ä»é•œåƒå®‰è£…
pip install scikit-image -i https://pypi.tuna.tsinghua.edu.cn/simple
```

**éªŒè¯å®‰è£…ï¼š**

```python
# test_skimage.py
from skimage import data, filters
import matplotlib.pyplot as plt

# åŠ è½½ç¤ºä¾‹å›¾åƒ
image = data.camera()

# åº”ç”¨è¾¹ç¼˜æ£€æµ‹
edges = filters.sobel(image)

# æ˜¾ç¤ºç»“æœ
fig, axes = plt.subplots(1, 2, figsize=(10, 5))
axes[0].imshow(image, cmap='gray')
axes[0].set_title('Original')
axes[1].imshow(edges, cmap='gray')
axes[1].set_title('Edges')
plt.tight_layout()
plt.savefig('skimage_test.png')
print("âœ… scikit-image å®‰è£…æˆåŠŸï¼")
```

---

### æ‰¹é‡å®‰è£… requirements.txt

åˆ›å»º `requirements.txt` æ–‡ä»¶ï¼š

```
# requirements.txt
# è®¡ç®—æœºè§†è§‰é¡¹ç›®ä¾èµ–

# æ ¸å¿ƒåº“
numpy==1.24.3
opencv-contrib-python==4.8.1.78

# å¯è§†åŒ–
matplotlib==3.7.2

# å›¾åƒå¤„ç†
Pillow==10.0.0
scikit-image==0.21.0

# ç§‘å­¦è®¡ç®—
scipy==1.11.2

# å›¾åƒI/O
imageio==2.31.1

# å…¶ä»–å·¥å…·
tqdm==4.66.1  # è¿›åº¦æ¡
```

**æ‰¹é‡å®‰è£…ï¼š**

```bash
# å®‰è£…æ‰€æœ‰ä¾èµ–
pip install -r requirements.txt

# æˆ–ä»é•œåƒå®‰è£…
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

**å¯¼å‡ºå½“å‰ç¯å¢ƒï¼š**

```bash
# å¯¼å‡ºå·²å®‰è£…çš„åŒ…
pip freeze > requirements.txt
```

---

### ç»¼åˆç¤ºä¾‹

åˆ›å»º `all_libs_test.py` æµ‹è¯•æ‰€æœ‰åº“ï¼š

```python
# all_libs_test.py
import numpy as np
import cv2
import matplotlib.pyplot as plt
from PIL import Image

print("=" * 70)
print("ğŸ‰ è®¡ç®—æœºè§†è§‰åº“ç»¼åˆæµ‹è¯•")
print("=" * 70)

# 1. NumPy åˆ›å»ºæ•°ç»„
print("\n1ï¸âƒ£  NumPy æ•°ç»„æ“ä½œ")
arr = np.random.rand(100, 100)
print(f"   éšæœºæ•°ç»„å½¢çŠ¶ï¼š{arr.shape}")

# 2. OpenCV è¯»å–å›¾åƒ
print("\n2ï¸âƒ£  OpenCV å›¾åƒå¤„ç†")
img = np.zeros((200, 300, 3), dtype=np.uint8)
img[:] = (100, 150, 200)
cv2.imwrite('cv_test.png', img)
print(f"   å›¾åƒå·²ä¿å­˜ï¼šcv_test.png")

# 3. Pillow è¯»å–å›¾åƒ
print("\n3ï¸âƒ£  Pillow å›¾åƒæ“ä½œ")
pil_img = Image.open('cv_test.png')
print(f"   PIL å›¾åƒå°ºå¯¸ï¼š{pil_img.size}")
print(f"   PIL å›¾åƒæ¨¡å¼ï¼š{pil_img.mode}")

# 4. Matplotlib å¯è§†åŒ–
print("\n4ï¸âƒ£  Matplotlib å¯è§†åŒ–")
fig, axes = plt.subplots(1, 2, figsize=(10, 4))

# æ˜¾ç¤º OpenCV å›¾åƒ
axes[0].imshow(cv2.cvtColor(img, cv2.COLOR_BGR2RGB))
axes[0].set_title('OpenCV Image')
axes[0].axis('off')

# æ˜¾ç¤º Pillow å›¾åƒ
axes[1].imshow(pil_img)
axes[1].set_title('Pillow Image')
axes[1].axis('off')

plt.tight_layout()
plt.savefig('all_libs_test.png', dpi=100)
print(f"   å¯è§†åŒ–ç»“æœå·²ä¿å­˜ï¼šall_libs_test.png")

print("\n" + "=" * 70)
print("âœ… æ‰€æœ‰åº“æµ‹è¯•å®Œæˆï¼ç¯å¢ƒæ­å»ºæˆåŠŸï¼")
print("=" * 70)
```

**è¿è¡Œæµ‹è¯•ï¼š**

```bash
python all_libs_test.py
```

---

## ğŸ¯ æ€»ç»“

æœ¬èŠ‚å­¦ä¹ äº†è®¡ç®—æœºè§†è§‰å¸¸ç”¨åº“çš„å®‰è£…ï¼š

âœ… **Matplotlib**ï¼šæ•°æ®å¯è§†åŒ–ã€å›¾åƒæ˜¾ç¤º
âœ… **Pillow**ï¼šå›¾åƒè¯»å†™ã€åŸºç¡€å¤„ç†
âœ… **scikit-image**ï¼šé«˜çº§å›¾åƒå¤„ç†ç®—æ³•
âœ… **requirements.txt**ï¼šæ‰¹é‡ç®¡ç†é¡¹ç›®ä¾èµ–

**å®Œæ•´ç¯å¢ƒæ¸…å•ï¼š**
- âœ… VSCode - å¼€å‘ç¯å¢ƒ
- âœ… Python 3.11 - ç¼–ç¨‹è¯­è¨€
- âœ… venv/conda - è™šæ‹Ÿç¯å¢ƒ
- âœ… NumPy - æ•°ç»„è®¡ç®—
- âœ… OpenCV - è®¡ç®—æœºè§†è§‰
- âœ… Matplotlib - å¯è§†åŒ–
- âœ… Pillow - å›¾åƒå¤„ç†
- âœ… å…¶ä»–è¾…åŠ©åº“

**æ­å–œï¼ç¯å¢ƒæ­å»ºå®Œæˆï¼ğŸ‰**

**ä¸‹ä¸€æ­¥ï¼š**
ğŸ‘‰ [ç¬¬02ç«  - PythonåŸºç¡€](../../ç¬¬02ç« -PythonåŸºç¡€/README.md)

---

## ğŸ“š å‚è€ƒèµ„æ–™

- [Matplotlib å®˜ç½‘](https://matplotlib.org/)
- [Pillow æ–‡æ¡£](https://pillow.readthedocs.io/)
- [scikit-image æ–‡æ¡£](https://scikit-image.org/)
- [requirements.txt è§„èŒƒ](https://pip.pypa.io/en/stable/reference/requirements-file-format/)
