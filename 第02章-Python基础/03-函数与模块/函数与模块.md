# å‡½æ•°ä¸æ¨¡å—

> å‡½æ•°æ˜¯ä»£ç å¤ç”¨çš„åŸºæœ¬å•å…ƒï¼Œæ¨¡å—åŒ–ç¼–ç¨‹è®©ä»£ç æ›´æ˜“ç»´æŠ¤ã€‚å­¦ä¼šå†™å‡½æ•°ï¼Œä½ çš„ä»£ç å°±ä¸å†æ˜¯"ä¸€æ¬¡æ€§ç­·å­"äº†ã€‚

---

## ğŸ“– ç†è®ºéƒ¨åˆ†

### 1. ä¸ºä»€ä¹ˆéœ€è¦å‡½æ•°ï¼Ÿ

å‡è®¾ä½ éœ€è¦å¤šæ¬¡è®¡ç®—å›¾åƒçš„åƒç´ æ€»æ•°ï¼š

```python
# âŒ ä¸ç”¨å‡½æ•°ï¼šæ¯æ¬¡éƒ½è¦é‡å¤å†™
width1, height1 = 640, 480
pixels1 = width1 * height1
print(f"å›¾åƒ1: {pixels1} åƒç´ ")

width2, height2 = 1920, 1080
pixels2 = width2 * height2
print(f"å›¾åƒ2: {pixels2} åƒç´ ")

width3, height3 = 3840, 2160
pixels3 = width3 * height3
print(f"å›¾åƒ3: {pixels3} åƒç´ ")
```

å¦‚æœè®¡ç®—é€»è¾‘è¦æ”¹ï¼ˆæ¯”å¦‚åŠ ä¸Šé€šé“æ•°ï¼‰ï¼Œä½ éœ€è¦æ”¹ä¸‰å¤„ä»£ç ï¼

```python
# âœ… ç”¨å‡½æ•°ï¼šå†™ä¸€æ¬¡ï¼Œè°ƒç”¨å¤šæ¬¡
def get_pixel_count(width, height):
    """è®¡ç®—å›¾åƒåƒç´ æ€»æ•°"""
    return width * height

print(f"å›¾åƒ1: {get_pixel_count(640, 480)} åƒç´ ")
print(f"å›¾åƒ2: {get_pixel_count(1920, 1080)} åƒç´ ")
print(f"å›¾åƒ3: {get_pixel_count(3840, 2160)} åƒç´ ")
```

**å‡½æ•°çš„ä¸‰å¤§å¥½å¤„ï¼š**
1. **ä»£ç å¤ç”¨**ï¼šå†™ä¸€æ¬¡ï¼Œåˆ°å¤„è°ƒç”¨
2. **æ˜“äºç»´æŠ¤**ï¼šä¿®æ”¹é€»è¾‘åªéœ€è¦æ”¹ä¸€å¤„
3. **ä»£ç æ¸…æ™°**ï¼šå‡½æ•°åå°±è¯´æ˜äº†åŠŸèƒ½

---

### 2. å‡½æ•°çš„å®šä¹‰ä¸è°ƒç”¨

#### 2.1 åŸºæœ¬è¯­æ³•

```python
def å‡½æ•°å(å‚æ•°1, å‚æ•°2, ...):
    """æ–‡æ¡£å­—ç¬¦ä¸²ï¼ˆè¯´æ˜å‡½æ•°çš„ä½œç”¨ï¼‰"""
    # å‡½æ•°ä½“ï¼ˆå…·ä½“çš„ä»£ç é€»è¾‘ï¼‰
    return è¿”å›å€¼
```

**å„éƒ¨åˆ†è§£é‡Šï¼š**
- `def`ï¼šå®šä¹‰å‡½æ•°çš„å…³é”®å­—ï¼ˆdefine çš„ç¼©å†™ï¼‰
- `å‡½æ•°å`ï¼šéµå¾ªå˜é‡å‘½åè§„åˆ™ï¼Œä½¿ç”¨å°å†™ + ä¸‹åˆ’çº¿
- `å‚æ•°`ï¼šå‡½æ•°æ¥æ”¶çš„è¾“å…¥å€¼ï¼ˆå¯ä»¥æ²¡æœ‰ï¼‰
- `""" """`ï¼šæ–‡æ¡£å­—ç¬¦ä¸²ï¼Œè¯´æ˜å‡½æ•°çš„ç”¨é€”ï¼ˆå¼ºçƒˆæ¨èå†™ï¼‰
- `return`ï¼šè¿”å›ç»“æœï¼ˆå¯ä»¥æ²¡æœ‰ï¼Œé»˜è®¤è¿”å› `None`ï¼‰

**å®Œæ•´ç¤ºä¾‹ï¼š**

```python
def calculate_area(width, height):
    """è®¡ç®—çŸ©å½¢åŒºåŸŸçš„é¢ç§¯

    Args:
        width: å®½åº¦ï¼ˆåƒç´ ï¼‰
        height: é«˜åº¦ï¼ˆåƒç´ ï¼‰

    Returns:
        é¢ç§¯å€¼ï¼ˆåƒç´ Â²ï¼‰
    """
    area = width * height
    return area

# è°ƒç”¨å‡½æ•°
result = calculate_area(640, 480)
print(f"é¢ç§¯: {result}")   # é¢ç§¯: 307200
```

#### 2.2 æ— å‚æ•°å‡½æ•°

```python
def print_separator():
    """æ‰“å°åˆ†éš”çº¿"""
    print("=" * 50)

# è°ƒç”¨
print_separator()
print("å¤„ç†ä¸­...")
print_separator()
# è¾“å‡º:
# ==================================================
# å¤„ç†ä¸­...
# ==================================================
```

#### 2.3 æ— è¿”å›å€¼å‡½æ•°

æ²¡æœ‰ `return` æˆ– `return` åé¢æ²¡æœ‰å€¼ï¼Œå‡½æ•°è¿”å› `None`ï¼š

```python
def show_image_info(name, width, height):
    """æ˜¾ç¤ºå›¾åƒä¿¡æ¯ï¼ˆä¸éœ€è¦è¿”å›å€¼ï¼‰"""
    print(f"æ–‡ä»¶: {name}")
    print(f"å°ºå¯¸: {width}x{height}")
    print(f"åƒç´ : {width * height:,}")

# è°ƒç”¨
show_image_info("photo.jpg", 1920, 1080)

# å¦‚æœå°è¯•æ¥æ”¶è¿”å›å€¼
result = show_image_info("test.png", 640, 480)
print(result)   # None
```

#### 2.4 å¤šä¸ªè¿”å›å€¼

Python å‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼ï¼ˆå®é™…ä¸Šæ˜¯è¿”å›ä¸€ä¸ªå…ƒç»„ï¼‰ï¼š

```python
def get_image_stats(pixels):
    """è®¡ç®—åƒç´ ç»Ÿè®¡ä¿¡æ¯"""
    min_val = min(pixels)
    max_val = max(pixels)
    avg_val = sum(pixels) / len(pixels)
    return min_val, max_val, avg_val    # è¿”å›ä¸‰ä¸ªå€¼

# æ¥æ”¶å¤šä¸ªè¿”å›å€¼ï¼ˆå…ƒç»„è§£åŒ…ï¼‰
pixels = [128, 64, 255, 32, 200, 0, 180]
minimum, maximum, average = get_image_stats(pixels)
print(f"æœ€å°å€¼: {minimum}")    # 0
print(f"æœ€å¤§å€¼: {maximum}")    # 255
print(f"å¹³å‡å€¼: {average:.1f}")  # 122.7

# ä¹Ÿå¯ä»¥ä½œä¸ºå…ƒç»„æ¥æ”¶
stats = get_image_stats(pixels)
print(stats)    # (0, 255, 122.71...)
print(type(stats))  # <class 'tuple'>
```

---

### 3. å‚æ•°ç±»å‹è¯¦è§£

Python çš„å‡½æ•°å‚æ•°éå¸¸çµæ´»ï¼Œæœ‰å¥½å‡ ç§ç”¨æ³•ã€‚

#### 3.1 ä½ç½®å‚æ•°ï¼ˆæœ€åŸºæœ¬çš„ï¼‰

æŒ‰ç…§é¡ºåºä¼ é€’ï¼Œä½ç½®å¯¹åº”ï¼š

```python
def resize_image(width, height, scale):
    """æŒ‰æ¯”ä¾‹ç¼©æ”¾å›¾åƒå°ºå¯¸"""
    new_width = int(width * scale)
    new_height = int(height * scale)
    return new_width, new_height

# ä½ç½®ä¼ å‚ï¼šç¬¬1ä¸ªç»™ widthï¼Œç¬¬2ä¸ªç»™ heightï¼Œç¬¬3ä¸ªç»™ scale
new_w, new_h = resize_image(1920, 1080, 0.5)
print(f"ç¼©æ”¾å: {new_w}x{new_h}")   # 960x540
```

> âš ï¸ **é¡ºåºé”™äº†å°±å‡ºé”™ï¼š** `resize_image(0.5, 1920, 1080)` ä¼šæŠŠ 0.5 å½“ä½œå®½åº¦ï¼

#### 3.2 å…³é”®å­—å‚æ•°

é€šè¿‡å‚æ•°åä¼ é€’ï¼Œä¸ç”¨å…³å¿ƒé¡ºåºï¼š

```python
# å…³é”®å­—ä¼ å‚ï¼šæ˜ç¡®æŒ‡å®šæ¯ä¸ªå‚æ•°çš„åå­—
new_w, new_h = resize_image(scale=0.5, width=1920, height=1080)
print(f"ç¼©æ”¾å: {new_w}x{new_h}")   # 960x540

# å¯ä»¥æ··åˆä½¿ç”¨ï¼ˆä½ç½®å‚æ•°å¿…é¡»åœ¨å‰é¢ï¼‰
new_w, new_h = resize_image(1920, 1080, scale=0.5)  # âœ… æ­£ç¡®
# new_w, new_h = resize_image(scale=0.5, 1920, 1080)  # âŒ é”™è¯¯ï¼ä½ç½®å‚æ•°ä¸èƒ½åœ¨å…³é”®å­—å‚æ•°åé¢
```

> ğŸ’¡ **å»ºè®®ï¼š** å‚æ•°è¶…è¿‡ 2 ä¸ªæ—¶ï¼Œå»ºè®®ç”¨å…³é”®å­—å‚æ•°ï¼Œä»£ç æ›´æ¸…æ™°ã€‚

#### 3.3 é»˜è®¤å‚æ•°

ç»™å‚æ•°è®¾ç½®é»˜è®¤å€¼ï¼Œè°ƒç”¨æ—¶å¯ä»¥çœç•¥ï¼š

```python
def resize_image(width, height, scale=1.0, interpolation="bilinear"):
    """ç¼©æ”¾å›¾åƒ

    Args:
        width: åŸå§‹å®½åº¦
        height: åŸå§‹é«˜åº¦
        scale: ç¼©æ”¾æ¯”ä¾‹ï¼ˆé»˜è®¤1.0ï¼Œä¸ç¼©æ”¾ï¼‰
        interpolation: æ’å€¼æ–¹æ³•ï¼ˆé»˜è®¤åŒçº¿æ€§ï¼‰
    """
    new_w = int(width * scale)
    new_h = int(height * scale)
    print(f"  ç¼©æ”¾: {width}x{height} â†’ {new_w}x{new_h} (æ’å€¼: {interpolation})")
    return new_w, new_h

# ä½¿ç”¨é»˜è®¤å€¼
resize_image(1920, 1080)                    # scale=1.0, interpolation="bilinear"
resize_image(1920, 1080, 0.5)              # interpolation="bilinear"
resize_image(1920, 1080, 0.5, "nearest")   # å…¨éƒ¨æŒ‡å®š
resize_image(1920, 1080, interpolation="cubic")  # åªæ”¹ interpolation
```

> âš ï¸ **é»˜è®¤å‚æ•°çš„å‘â€”â€”ä¸è¦ç”¨å¯å˜å¯¹è±¡ä½œä¸ºé»˜è®¤å€¼ï¼**
> ```python
> # âŒ å±é™©ï¼åˆ—è¡¨æ˜¯å¯å˜å¯¹è±¡
> def add_detection(result, detections=[]):
>     detections.append(result)
>     return detections
>
> print(add_detection("cat"))   # ['cat']
> print(add_detection("dog"))   # ['cat', 'dog']  ä¸æ˜¯ ['dog']ï¼
> # å› ä¸ºé»˜è®¤åˆ—è¡¨åœ¨å‡½æ•°å®šä¹‰æ—¶åªåˆ›å»ºä¸€æ¬¡ï¼Œåç»­è°ƒç”¨å…±äº«åŒä¸€ä¸ªåˆ—è¡¨
>
> # âœ… æ­£ç¡®åšæ³•
> def add_detection(result, detections=None):
>     if detections is None:
>         detections = []
>     detections.append(result)
>     return detections
> ```

#### 3.4 å¯å˜å‚æ•° *args

ä¸ç¡®å®šæœ‰å¤šå°‘ä¸ªå‚æ•°æ—¶ï¼Œç”¨ `*args` æ¥æ”¶ä»»æ„æ•°é‡çš„ä½ç½®å‚æ•°ï¼ˆæ‰“åŒ…æˆå…ƒç»„ï¼‰ï¼š

```python
def average(*numbers):
    """è®¡ç®—ä»»æ„ä¸ªæ•°å­—çš„å¹³å‡å€¼"""
    if not numbers:
        return 0
    return sum(numbers) / len(numbers)

print(average(1, 2, 3))           # 2.0
print(average(100, 200))          # 150.0
print(average(10, 20, 30, 40, 50)) # 30.0

# numbers åœ¨å‡½æ•°å†…éƒ¨æ˜¯ä¸€ä¸ªå…ƒç»„
def show_args(*args):
    print(f"æ”¶åˆ° {len(args)} ä¸ªå‚æ•°: {args}")
    print(f"ç±»å‹: {type(args)}")

show_args(1, "hello", 3.14)
# æ”¶åˆ° 3 ä¸ªå‚æ•°: (1, 'hello', 3.14)
# ç±»å‹: <class 'tuple'>
```

#### 3.5 å…³é”®å­—å¯å˜å‚æ•° **kwargs

ç”¨ `**kwargs` æ¥æ”¶ä»»æ„æ•°é‡çš„å…³é”®å­—å‚æ•°ï¼ˆæ‰“åŒ…æˆå­—å…¸ï¼‰ï¼š

```python
def create_config(**kwargs):
    """ç”¨å…³é”®å­—å‚æ•°åˆ›å»ºé…ç½®å­—å…¸"""
    print("é…ç½®é¡¹:")
    for key, value in kwargs.items():
        print(f"  {key} = {value}")
    return kwargs

config = create_config(width=640, height=480, fps=30, format="RGB")
# é…ç½®é¡¹:
#   width = 640
#   height = 480
#   fps = 30
#   format = RGB

print(type(config))   # <class 'dict'>
```

#### 3.6 å‚æ•°ç»„åˆä½¿ç”¨

æ‰€æœ‰ç±»å‹çš„å‚æ•°å¯ä»¥ç»„åˆï¼Œä½†æœ‰å›ºå®šé¡ºåºï¼š

```python
def process(name, mode="default", *args, **kwargs):
    """
    å‚æ•°é¡ºåº: ä½ç½®å‚æ•° â†’ é»˜è®¤å‚æ•° â†’ *args â†’ **kwargs
    """
    print(f"name={name}, mode={mode}")
    print(f"args={args}")
    print(f"kwargs={kwargs}")

process("test", "fast", 1, 2, 3, debug=True, verbose=False)
# name=test, mode=fast
# args=(1, 2, 3)
# kwargs={'debug': True, 'verbose': False}
```

> ğŸ’¡ **å®é™…å¼€å‘ä¸­ï¼š** æœ€å¸¸è§çš„ç»„åˆæ˜¯"ä½ç½®å‚æ•° + é»˜è®¤å‚æ•°"ã€‚`*args` å’Œ `**kwargs` åœ¨å†™æ¡†æ¶æˆ–è£…é¥°å™¨æ—¶æ›´å¸¸ç”¨ã€‚

---

### 4. å˜é‡ä½œç”¨åŸŸ

å˜é‡ä¸æ˜¯åœ¨ä»»ä½•åœ°æ–¹éƒ½èƒ½è®¿é—®çš„ã€‚å‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡æ˜¯**å±€éƒ¨å˜é‡**ï¼Œå¤–éƒ¨ä¸èƒ½è®¿é—®ã€‚

```python
# å…¨å±€å˜é‡
threshold = 0.5

def check_score(score):
    # å±€éƒ¨å˜é‡
    result = "é€šè¿‡" if score > threshold else "æœªé€šè¿‡"
    return result

print(check_score(0.8))   # é€šè¿‡
# print(result)            # âŒ NameError: å‡½æ•°å¤–éƒ¨ä¸èƒ½è®¿é—®å±€éƒ¨å˜é‡ result
print(threshold)           # âœ… 0.5ï¼ˆå…¨å±€å˜é‡åˆ°å¤„éƒ½èƒ½ç”¨ï¼‰
```

**ä½œç”¨åŸŸè§„åˆ™ï¼ˆLEGBï¼‰ï¼š**

```
æŸ¥æ‰¾å˜é‡æ—¶ï¼ŒPython æŒ‰ä»¥ä¸‹é¡ºåºæœç´¢ï¼š
L - Localï¼ˆå±€éƒ¨ï¼‰ï¼šå‡½æ•°å†…éƒ¨
E - Enclosingï¼ˆå¤–å±‚å‡½æ•°ï¼‰ï¼šåµŒå¥—å‡½æ•°çš„å¤–å±‚
G - Globalï¼ˆå…¨å±€ï¼‰ï¼šæ¨¡å—çº§åˆ«
B - Built-inï¼ˆå†…ç½®ï¼‰ï¼šPython å†…ç½®ï¼ˆå¦‚ printã€lenï¼‰
```

```python
x = "å…¨å±€"

def outer():
    x = "å¤–å±‚"

    def inner():
        x = "å±€éƒ¨"
        print(x)    # "å±€éƒ¨"ï¼ˆä¼˜å…ˆæ‰¾ Localï¼‰

    inner()
    print(x)        # "å¤–å±‚"ï¼ˆinner çš„å±€éƒ¨å˜é‡ä¸å½±å“è¿™é‡Œï¼‰

outer()
print(x)            # "å…¨å±€"
```

> âš ï¸ **å»ºè®®ï¼š** å°½é‡é¿å…ä½¿ç”¨å…¨å±€å˜é‡ã€‚å¦‚æœå‡½æ•°éœ€è¦æŸä¸ªå€¼ï¼Œé€šè¿‡å‚æ•°ä¼ å…¥ï¼›å¦‚æœéœ€è¦ä¿®æ”¹ï¼Œé€šè¿‡è¿”å›å€¼ä¼ å‡ºã€‚è¿™æ ·ä»£ç æ›´æ¸…æ™°ã€æ›´å®‰å…¨ã€‚

---

### 5. Lambda åŒ¿åå‡½æ•°

Lambda æ˜¯ä¸€ç§ç®€æ´çš„"ä¸€æ¬¡æ€§"å°å‡½æ•°ï¼Œé€‚åˆç®€å•çš„æ“ä½œã€‚

#### 5.1 åŸºæœ¬è¯­æ³•

```python
# æ™®é€šå‡½æ•°
def square(x):
    return x ** 2

# Lambda ç­‰ä»·å†™æ³•
square = lambda x: x ** 2

print(square(5))   # 25
```

**è¯­æ³•ï¼š** `lambda å‚æ•°: è¡¨è¾¾å¼`
- åªèƒ½å†™ä¸€ä¸ªè¡¨è¾¾å¼ï¼ˆä¸èƒ½å†™å¤šè¡Œä»£ç ï¼‰
- è‡ªåŠ¨è¿”å›è¡¨è¾¾å¼çš„ç»“æœï¼ˆä¸ç”¨å†™ `return`ï¼‰

#### 5.2 å¸¸è§ç”¨æ³•

Lambda æœ€å¸¸è§çš„ç”¨é€”æ˜¯ä½œä¸º**æ’åºçš„ key å‡½æ•°**å’Œ**é«˜é˜¶å‡½æ•°çš„å‚æ•°**ï¼š

```python
# ç”¨æ³•1ï¼šæ’åºçš„ key
detections = [
    {"class": "person", "confidence": 0.95},
    {"class": "car",    "confidence": 0.72},
    {"class": "dog",    "confidence": 0.88},
]

# æŒ‰ç½®ä¿¡åº¦é™åºæ’åº
detections.sort(key=lambda d: d["confidence"], reverse=True)
for det in detections:
    print(f"  {det['class']}: {det['confidence']:.0%}")
# è¾“å‡º:
#   person: 95%
#   dog: 88%
#   car: 72%

# ç”¨æ³•2ï¼šé…åˆ map()ï¼ˆå¯¹æ¯ä¸ªå…ƒç´ åº”ç”¨å‡½æ•°ï¼‰
pixels = [255, 128, 64, 32, 0]
normalized = list(map(lambda p: p / 255.0, pixels))
print(normalized)   # [1.0, 0.502, 0.251, 0.125, 0.0]
# æ³¨æ„ï¼šè¿™ç§åœºæ™¯ç”¨åˆ—è¡¨æ¨å¯¼å¼æ›´ Pythonic
normalized = [p / 255.0 for p in pixels]  # âœ… æ›´æ¨è

# ç”¨æ³•3ï¼šé…åˆ filter()ï¼ˆç­›é€‰å…ƒç´ ï¼‰
scores = [0.95, 0.32, 0.88, 0.41, 0.76]
high = list(filter(lambda s: s > 0.5, scores))
print(high)   # [0.95, 0.88, 0.76]
# åŒæ ·ï¼Œåˆ—è¡¨æ¨å¯¼å¼æ›´æ¨è
high = [s for s in scores if s > 0.5]  # âœ… æ›´æ¨è

# ç”¨æ³•4ï¼šé…åˆ sorted()
files = ["img_10.jpg", "img_2.jpg", "img_1.jpg", "img_20.jpg"]
# æŒ‰æ–‡ä»¶åä¸­çš„æ•°å­—æ’åº
sorted_files = sorted(files, key=lambda f: int(f.split("_")[1].split(".")[0]))
print(sorted_files)
# ['img_1.jpg', 'img_2.jpg', 'img_10.jpg', 'img_20.jpg']
```

> ğŸ’¡ **ä»€ä¹ˆæ—¶å€™ç”¨ lambdaï¼Œä»€ä¹ˆæ—¶å€™ç”¨ defï¼Ÿ**
> - **lambda**ï¼šåªæœ‰ä¸€è¡Œï¼Œä¸éœ€è¦å¤ç”¨ï¼Œå¸¸ä½œä¸ºå‚æ•°ä¼ é€’ï¼ˆå¦‚ `sort(key=...)`ï¼‰
> - **def**ï¼šå¤šè¡Œé€»è¾‘ï¼Œéœ€è¦å¤ç”¨ï¼Œéœ€è¦æ–‡æ¡£å­—ç¬¦ä¸²

---

### 6. æ¨¡å—ä¸å¯¼å…¥

å½“ä»£ç é‡è¶Šæ¥è¶Šå¤§æ—¶ï¼ŒæŠŠæ‰€æœ‰ä»£ç æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œä¼šå¾ˆæ··ä¹±ã€‚**æ¨¡å—**å°±æ˜¯æŠŠä»£ç åˆ†æˆå¤šä¸ªæ–‡ä»¶ï¼ŒæŒ‰éœ€å¯¼å…¥ã€‚

#### 6.1 ä»€ä¹ˆæ˜¯æ¨¡å—ï¼Ÿ

ç®€å•è¯´ï¼š**ä¸€ä¸ª `.py` æ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—**ã€‚

```
my_project/
â”œâ”€â”€ main.py            # ä¸»ç¨‹åº
â”œâ”€â”€ image_utils.py     # å›¾åƒå¤„ç†å·¥å…·ï¼ˆä¸€ä¸ªæ¨¡å—ï¼‰
â””â”€â”€ file_utils.py      # æ–‡ä»¶æ“ä½œå·¥å…·ï¼ˆä¸€ä¸ªæ¨¡å—ï¼‰
```

#### 6.2 å¯¼å…¥æ–¹å¼

Python æœ‰å››ç§å¯¼å…¥æ–¹å¼ï¼š

```python
# æ–¹å¼1: å¯¼å…¥æ•´ä¸ªæ¨¡å—
import os
print(os.path.exists("test.jpg"))   # éœ€è¦ç”¨ æ¨¡å—å.å‡½æ•°å

# æ–¹å¼2: å¯¼å…¥ç‰¹å®šçš„å‡½æ•°/ç±»
from os.path import exists, join
print(exists("test.jpg"))           # ç›´æ¥ç”¨å‡½æ•°å

# æ–¹å¼3: ç»™æ¨¡å—èµ·åˆ«åï¼ˆå¸¸ç”¨äºåå­—å¤ªé•¿çš„æ¨¡å—ï¼‰
import numpy as np                  # numpy ç®€å†™ä¸º np
import cv2                          # OpenCV çš„æ¨¡å—å
import matplotlib.pyplot as plt     # matplotlib ç”»å›¾æ¨¡å—

# æ–¹å¼4: å¯¼å…¥æ‰€æœ‰ï¼ˆä¸æ¨èï¼å¯èƒ½å¯¼è‡´å‘½åå†²çªï¼‰
from os.path import *              # âŒ ä¸æ¨è
```

> ğŸ’¡ **è®¡ç®—æœºè§†è§‰ä¸­æœ€å¸¸è§çš„å¯¼å…¥ï¼š**
> ```python
> import cv2                          # OpenCV
> import numpy as np                  # NumPy
> import matplotlib.pyplot as plt     # Matplotlibï¼ˆç”»å›¾ï¼‰
> from pathlib import Path            # è·¯å¾„å¤„ç†
> ```

#### 6.3 å¸¸ç”¨æ ‡å‡†åº“

Python è‡ªå¸¦äº†å¾ˆå¤šå®ç”¨çš„æ ‡å‡†åº“ï¼Œä¸éœ€è¦é¢å¤–å®‰è£…ï¼š

| æ¨¡å— | åŠŸèƒ½ | å¸¸ç”¨ç¤ºä¾‹ |
|------|------|----------|
| `os` | æ“ä½œç³»ç»Ÿäº¤äº’ | `os.listdir()`, `os.makedirs()` |
| `os.path` | è·¯å¾„æ“ä½œ | `os.path.join()`, `os.path.exists()` |
| `pathlib` | ç°ä»£è·¯å¾„æ“ä½œ | `Path("dir") / "file.txt"` |
| `math` | æ•°å­¦å‡½æ•° | `math.sqrt()`, `math.pi` |
| `random` | éšæœºæ•° | `random.randint()`, `random.choice()` |
| `time` | æ—¶é—´ç›¸å…³ | `time.time()`, `time.sleep()` |
| `json` | JSON å¤„ç† | `json.load()`, `json.dumps()` |
| `glob` | æ–‡ä»¶åŒ¹é… | `glob.glob("*.jpg")` |
| `copy` | å¯¹è±¡å¤åˆ¶ | `copy.deepcopy()` |
| `collections` | é«˜çº§å®¹å™¨ | `Counter`, `defaultdict` |

**å®ç”¨ç¤ºä¾‹ï¼š**

```python
import os
import time
import random
from pathlib import Path
from collections import Counter

# --- os: åˆ—å‡ºæ–‡ä»¶å¤¹å†…å®¹ ---
files = os.listdir(".")
print(f"å½“å‰ç›®å½•æœ‰ {len(files)} ä¸ªæ–‡ä»¶/æ–‡ä»¶å¤¹")

# --- pathlib: è·¯å¾„æ“ä½œï¼ˆæ¨èï¼ï¼‰ ---
image_dir = Path("E:/images")
# è·å–æ‰€æœ‰ jpg æ–‡ä»¶
jpg_files = list(image_dir.glob("*.jpg"))
# æ‹¼æ¥è·¯å¾„
output_path = image_dir / "output" / "result.jpg"
print(f"è¾“å‡ºè·¯å¾„: {output_path}")

# --- time: è®¡ç®—è€—æ—¶ ---
start = time.time()
# ... æ‰§è¡Œä¸€äº›æ“ä½œ ...
time.sleep(0.5)  # æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ
elapsed = time.time() - start
print(f"è€—æ—¶: {elapsed:.2f} ç§’")

# --- random: éšæœºæ“ä½œ ---
colors = ["red", "green", "blue"]
print(random.choice(colors))     # éšæœºé€‰ä¸€ä¸ª
random.shuffle(colors)           # æ‰“ä¹±é¡ºåº
print(random.randint(0, 255))    # éšæœºæ•´æ•°

# --- Counter: ç»Ÿè®¡é¢‘ç‡ ---
labels = ["cat", "dog", "cat", "cat", "dog", "bird"]
count = Counter(labels)
print(count)                     # Counter({'cat': 3, 'dog': 2, 'bird': 1})
print(count.most_common(2))      # [('cat', 3), ('dog', 2)]  æœ€å¸¸è§çš„2ä¸ª
```

#### 6.4 è‡ªå®šä¹‰æ¨¡å—

ä½ ä¹Ÿå¯ä»¥åˆ›å»ºè‡ªå·±çš„æ¨¡å—ã€‚å‡è®¾é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š

```
project/
â”œâ”€â”€ main.py
â””â”€â”€ image_utils.py
```

**image_utils.pyï¼ˆå·¥å…·æ¨¡å—ï¼‰ï¼š**

```python
"""å›¾åƒå¤„ç†å·¥å…·æ¨¡å—"""

def normalize_pixel(value, max_val=255):
    """å°†åƒç´ å€¼å½’ä¸€åŒ–åˆ° 0~1"""
    return value / max_val

def clamp(value, min_val=0, max_val=255):
    """å°†å€¼é™åˆ¶åœ¨æŒ‡å®šèŒƒå›´å†…"""
    return max(min_val, min(max_val, value))

def format_size(width, height):
    """æ ¼å¼åŒ–æ˜¾ç¤ºå›¾åƒå°ºå¯¸"""
    total = width * height
    if total > 1_000_000:
        return f"{width}x{height} ({total/1_000_000:.1f}MP)"
    else:
        return f"{width}x{height} ({total:,}px)"
```

**main.pyï¼ˆä¸»ç¨‹åºï¼‰ï¼š**

```python
# å¯¼å…¥è‡ªå®šä¹‰æ¨¡å—
from image_utils import normalize_pixel, clamp, format_size

# ä½¿ç”¨
print(normalize_pixel(128))           # 0.502
print(clamp(300))                     # 255ï¼ˆè¶…å‡ºèŒƒå›´è¢«è£å‰ªï¼‰
print(format_size(1920, 1080))        # 1920x1080 (2.1MP)
```

#### 6.5 `if __name__ == "__main__"` çš„ä½œç”¨

è¿™æ˜¯ Python ä¸­ä¸€ä¸ªéå¸¸é‡è¦çš„æƒ¯ç”¨å†™æ³•ï¼š

```python
# image_utils.py

def normalize_pixel(value, max_val=255):
    return value / max_val

# è¿™éƒ¨åˆ†ä»£ç åªåœ¨ç›´æ¥è¿è¡Œè¿™ä¸ªæ–‡ä»¶æ—¶æ‰§è¡Œ
# å½“è¢«å…¶ä»–æ–‡ä»¶ import æ—¶ä¸ä¼šæ‰§è¡Œ
if __name__ == "__main__":
    # æµ‹è¯•ä»£ç 
    print("æµ‹è¯• normalize_pixel:")
    print(normalize_pixel(128))    # 0.502
    print(normalize_pixel(255))    # 1.0
    print("æµ‹è¯•é€šè¿‡ï¼")
```

**ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªï¼Ÿ**
- ç›´æ¥è¿è¡Œ `python image_utils.py` â†’ æ‰§è¡Œæµ‹è¯•ä»£ç 
- åœ¨å…¶ä»–æ–‡ä»¶ä¸­ `import image_utils` â†’ ä¸æ‰§è¡Œæµ‹è¯•ä»£ç ï¼Œåªå¯¼å…¥å‡½æ•°

> ğŸ’¡ **é€šä¿—ç†è§£ï¼š** `__name__` æ˜¯ Python è‡ªåŠ¨è®¾ç½®çš„å˜é‡ã€‚å½“æ–‡ä»¶è¢«ç›´æ¥è¿è¡Œæ—¶ï¼Œ`__name__` ç­‰äº `"__main__"`ï¼›å½“æ–‡ä»¶è¢«å¯¼å…¥æ—¶ï¼Œ`__name__` ç­‰äºæ¨¡å—åï¼ˆå¦‚ `"image_utils"`ï¼‰ã€‚

---

## ğŸ’» ä»£ç å®æˆ˜

### å®æˆ˜ç»ƒä¹ ï¼šå›¾åƒå¤„ç†å·¥å…·ç®±

è¿è¡Œ `code/functions.py` æŸ¥çœ‹å®Œæ•´ç¤ºä¾‹ã€‚

```python
# ===================================================================
# å®æˆ˜ç»ƒä¹ ï¼šå›¾åƒå¤„ç†å·¥å…·ç®±
# ç›®æ ‡ï¼šç»¼åˆè¿ç”¨å‡½æ•°å®šä¹‰ã€å‚æ•°ã€æ¨¡å—
# ===================================================================

import os
import time
from collections import Counter

# ---------- 1. åŸºç¡€å‡½æ•°ï¼šåƒç´ å€¼å¤„ç† ----------
print("=" * 50)
print("ğŸ”§ å·¥å…·ç®± - åƒç´ å€¼å¤„ç†")
print("=" * 50)

def normalize(value, min_val=0, max_val=255):
    """å½’ä¸€åŒ–åˆ° 0~1 èŒƒå›´"""
    return (value - min_val) / (max_val - min_val)

def denormalize(value, min_val=0, max_val=255):
    """ä» 0~1 åå½’ä¸€åŒ–"""
    return int(value * (max_val - min_val) + min_val)

def clamp(value, low=0, high=255):
    """é™åˆ¶åœ¨æŒ‡å®šèŒƒå›´"""
    return max(low, min(high, value))

# æµ‹è¯•
pixels = [0, 64, 128, 192, 255]
print("åŸå§‹åƒç´ :     ", pixels)
norm = [normalize(p) for p in pixels]
print("å½’ä¸€åŒ–:       ", [f"{n:.2f}" for n in norm])
back = [denormalize(n) for n in norm]
print("åå½’ä¸€åŒ–:     ", back)
print(f"è¶Šç•Œå€¼è£å‰ª:    clamp(300) = {clamp(300)}, clamp(-50) = {clamp(-50)}")

# ---------- 2. å¤šè¿”å›å€¼å‡½æ•° ----------
print("\n" + "=" * 50)
print("ğŸ“Š å·¥å…·ç®± - ç»Ÿè®¡åˆ†æ")
print("=" * 50)

def analyze_pixels(pixels):
    """å…¨é¢åˆ†æåƒç´ å€¼åˆ†å¸ƒ

    Args:
        pixels: åƒç´ å€¼åˆ—è¡¨

    Returns:
        (min, max, mean, std) ç»Ÿè®¡å…ƒç»„
    """
    n = len(pixels)
    min_val = min(pixels)
    max_val = max(pixels)
    mean = sum(pixels) / n
    # æ ‡å‡†å·®
    variance = sum((p - mean) ** 2 for p in pixels) / n
    std = variance ** 0.5
    return min_val, max_val, mean, std

test_pixels = [120, 135, 128, 142, 110, 155, 98, 130, 145, 125]
min_v, max_v, mean_v, std_v = analyze_pixels(test_pixels)
print(f"  åƒç´ æ ·æœ¬: {test_pixels}")
print(f"  æœ€å°å€¼:   {min_v}")
print(f"  æœ€å¤§å€¼:   {max_v}")
print(f"  å¹³å‡å€¼:   {mean_v:.1f}")
print(f"  æ ‡å‡†å·®:   {std_v:.1f}")

# ---------- 3. é»˜è®¤å‚æ•° + å…³é”®å­—å‚æ•° ----------
print("\n" + "=" * 50)
print("ğŸ“ å·¥å…·ç®± - å›¾åƒç¼©æ”¾è®¡ç®—")
print("=" * 50)

def calc_resize(width, height, target_width=None, target_height=None, scale=None):
    """è®¡ç®—ç¼©æ”¾åçš„å°ºå¯¸ï¼ˆä¸‰ç§æ¨¡å¼ï¼‰

    - æŒ‡å®š scaleï¼šç­‰æ¯”ä¾‹ç¼©æ”¾
    - æŒ‡å®š target_widthï¼šæŒ‰å®½åº¦ç­‰æ¯”ä¾‹ç¼©æ”¾
    - æŒ‡å®š target_heightï¼šæŒ‰é«˜åº¦ç­‰æ¯”ä¾‹ç¼©æ”¾
    """
    if scale is not None:
        new_w = int(width * scale)
        new_h = int(height * scale)
        mode = f"æ¯”ä¾‹ç¼©æ”¾ x{scale}"
    elif target_width is not None:
        ratio = target_width / width
        new_w = target_width
        new_h = int(height * ratio)
        mode = f"æŒ‰å®½åº¦={target_width}"
    elif target_height is not None:
        ratio = target_height / height
        new_w = int(width * ratio)
        new_h = target_height
        mode = f"æŒ‰é«˜åº¦={target_height}"
    else:
        new_w, new_h = width, height
        mode = "ä¸ç¼©æ”¾"

    print(f"  [{mode}] {width}x{height} â†’ {new_w}x{new_h}")
    return new_w, new_h

calc_resize(1920, 1080, scale=0.5)              # ç­‰æ¯”ä¾‹ç¼©æ”¾
calc_resize(1920, 1080, target_width=640)       # æŒ‰å®½åº¦ç¼©æ”¾
calc_resize(1920, 1080, target_height=720)      # æŒ‰é«˜åº¦ç¼©æ”¾

# ---------- 4. *args å’Œ lambda ----------
print("\n" + "=" * 50)
print("ğŸ¯ å·¥å…·ç®± - æ’åºä¸ç­›é€‰")
print("=" * 50)

detections = [
    {"class": "person", "confidence": 0.95, "area": 15000},
    {"class": "car",    "confidence": 0.72, "area": 28000},
    {"class": "dog",    "confidence": 0.88, "area": 5000},
    {"class": "person", "confidence": 0.65, "area": 8000},
    {"class": "cat",    "confidence": 0.91, "area": 3000},
]

# lambda æ’åºï¼šæŒ‰ç½®ä¿¡åº¦é™åº
by_confidence = sorted(detections, key=lambda d: d["confidence"], reverse=True)
print("æŒ‰ç½®ä¿¡åº¦æ’åº:")
for d in by_confidence:
    print(f"  {d['class']:>6s}: {d['confidence']:.0%} (é¢ç§¯: {d['area']:,})")

# lambda æ’åºï¼šæŒ‰é¢ç§¯é™åº
by_area = sorted(detections, key=lambda d: d["area"], reverse=True)
print("\næŒ‰é¢ç§¯æ’åº:")
for d in by_area:
    print(f"  {d['class']:>6s}: é¢ç§¯={d['area']:>6,} (ç½®ä¿¡åº¦: {d['confidence']:.0%})")

# ç­›é€‰ + ç»Ÿè®¡
high_conf = [d for d in detections if d["confidence"] > 0.8]
class_count = Counter(d["class"] for d in detections)
print(f"\né«˜ç½®ä¿¡åº¦ç›®æ ‡: {len(high_conf)} ä¸ª")
print(f"ç±»åˆ«ç»Ÿè®¡: {dict(class_count)}")

# ---------- 5. æ¨¡å—ä½¿ç”¨ç¤ºä¾‹ ----------
print("\n" + "=" * 50)
print("ğŸ“¦ å·¥å…·ç®± - æ ‡å‡†åº“ä½¿ç”¨")
print("=" * 50)

# è®¡æ—¶è£…é¥°å™¨ï¼ˆé«˜çº§ç”¨æ³•é¢„è§ˆï¼‰
def timer(func):
    """è®¡æ—¶è£…é¥°å™¨ï¼šè‡ªåŠ¨ç»Ÿè®¡å‡½æ•°æ‰§è¡Œæ—¶é—´"""
    def wrapper(*args, **kwargs):
        start = time.time()
        result = func(*args, **kwargs)
        elapsed = time.time() - start
        print(f"  â±ï¸ {func.__name__} è€—æ—¶: {elapsed:.4f} ç§’")
        return result
    return wrapper

@timer
def process_batch(count):
    """æ¨¡æ‹Ÿæ‰¹å¤„ç†"""
    total = 0
    for i in range(count):
        total += i ** 2
    return total

result = process_batch(1_000_000)
print(f"  è®¡ç®—ç»“æœ: {result:,}")
```

**è¿è¡Œè¾“å‡ºç¤ºä¾‹ï¼š**

```
==================================================
ğŸ”§ å·¥å…·ç®± - åƒç´ å€¼å¤„ç†
==================================================
åŸå§‹åƒç´ :      [0, 64, 128, 192, 255]
å½’ä¸€åŒ–:        ['0.00', '0.25', '0.50', '0.75', '1.00']
åå½’ä¸€åŒ–:      [0, 64, 128, 192, 255]
è¶Šç•Œå€¼è£å‰ª:     clamp(300) = 255, clamp(-50) = 0

==================================================
ğŸ“Š å·¥å…·ç®± - ç»Ÿè®¡åˆ†æ
==================================================
  åƒç´ æ ·æœ¬: [120, 135, 128, 142, 110, 155, 98, 130, 145, 125]
  æœ€å°å€¼:   98
  æœ€å¤§å€¼:   155
  å¹³å‡å€¼:   128.8
  æ ‡å‡†å·®:   15.5

==================================================
ğŸ“ å·¥å…·ç®± - å›¾åƒç¼©æ”¾è®¡ç®—
==================================================
  [æ¯”ä¾‹ç¼©æ”¾ x0.5] 1920x1080 â†’ 960x540
  [æŒ‰å®½åº¦=640] 1920x1080 â†’ 640x360
  [æŒ‰é«˜åº¦=720] 1920x1080 â†’ 1280x720

==================================================
ğŸ¯ å·¥å…·ç®± - æ’åºä¸ç­›é€‰
==================================================
æŒ‰ç½®ä¿¡åº¦æ’åº:
  person: 95% (é¢ç§¯: 15,000)
     cat: 91% (é¢ç§¯: 3,000)
     dog: 88% (é¢ç§¯: 5,000)
     car: 72% (é¢ç§¯: 28,000)
  person: 65% (é¢ç§¯: 8,000)
```

---

## ğŸš¨ å¸¸è§é—®é¢˜ä¸æ˜“é”™ç‚¹

### Q1: å‡½æ•°ä¿®æ”¹äº†åˆ—è¡¨å‚æ•°ï¼ŒåŸåˆ—è¡¨ä¼šå˜å—ï¼Ÿ

**ä¼šï¼** åˆ—è¡¨æ˜¯å¯å˜å¯¹è±¡ï¼Œä¼ å…¥å‡½æ•°çš„æ˜¯å¼•ç”¨ï¼ˆåœ°å€ï¼‰ï¼Œä¸æ˜¯å‰¯æœ¬ã€‚

```python
def add_label(labels, new_label):
    labels.append(new_label)    # ä¿®æ”¹äº†åŸåˆ—è¡¨ï¼

my_labels = ["cat", "dog"]
add_label(my_labels, "bird")
print(my_labels)   # ['cat', 'dog', 'bird']  åŸåˆ—è¡¨è¢«ä¿®æ”¹äº†ï¼

# å¦‚æœä¸æƒ³ä¿®æ”¹åŸåˆ—è¡¨ï¼Œä¼ å…¥å‰¯æœ¬
add_label(my_labels.copy(), "fish")
print(my_labels)   # ['cat', 'dog', 'bird']  åŸåˆ—è¡¨æ²¡å˜
```

### Q2: return å’Œ print æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

```python
def calc_v1(a, b):
    print(a + b)    # æ‰“å°åˆ°å±å¹•ï¼Œä½†ä¸è¿”å›å€¼

def calc_v2(a, b):
    return a + b    # è¿”å›å€¼ï¼Œå¯ä»¥è¢«æ¥æ”¶å’Œä½¿ç”¨

# print ç‰ˆæœ¬
result1 = calc_v1(1, 2)   # å±å¹•æ˜¾ç¤º 3
print(result1)             # Noneï¼ˆæ²¡æœ‰è¿”å›å€¼ï¼ï¼‰

# return ç‰ˆæœ¬
result2 = calc_v2(1, 2)   # å±å¹•ä¸æ˜¾ç¤º
print(result2)             # 3ï¼ˆæœ‰è¿”å›å€¼ï¼‰
# å¯ä»¥ç»§ç»­è®¡ç®—
total = result2 * 10       # 30
```

### Q3: import æ”¾åœ¨æ–‡ä»¶å“ªé‡Œï¼Ÿ

```python
# âœ… æ¨èï¼šæ”¾åœ¨æ–‡ä»¶æœ€é¡¶éƒ¨
import os
import cv2
import numpy as np
from pathlib import Path

# ç„¶åæ˜¯ä½ çš„ä»£ç ...

# âŒ ä¸æ¨èï¼šæ•£è½åœ¨ä»£ç å„å¤„ï¼ˆè™½ç„¶è¯­æ³•ä¸Šåˆæ³•ï¼‰
def process():
    import time    # å¯ä»¥è¿è¡Œï¼Œä½†ä¸æ¨è
    ...
```

**import çš„æ ‡å‡†é¡ºåºï¼ˆPEP 8ï¼‰ï¼š**
1. æ ‡å‡†åº“ï¼ˆos, sys, time...ï¼‰
2. ç¬¬ä¸‰æ–¹åº“ï¼ˆnumpy, cv2, torch...ï¼‰
3. è‡ªå®šä¹‰æ¨¡å—
4. æ¯ç»„ä¹‹é—´ç©ºä¸€è¡Œ

---

## ğŸ¯ æ€»ç»“

æœ¬èŠ‚å­¦ä¹ äº† Python å‡½æ•°å’Œæ¨¡å—åŒ–ç¼–ç¨‹ï¼š

âœ… **å‡½æ•°å®šä¹‰**ï¼š`def` å…³é”®å­—ï¼Œæ–‡æ¡£å­—ç¬¦ä¸²ï¼Œ`return` è¿”å›å€¼
âœ… **å‚æ•°ç±»å‹**ï¼šä½ç½®å‚æ•°ã€å…³é”®å­—å‚æ•°ã€é»˜è®¤å‚æ•°ã€`*args`ã€`**kwargs`
âœ… **å¤šè¿”å›å€¼**ï¼šPython å‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼ï¼ˆå…ƒç»„è§£åŒ…ï¼‰
âœ… **å˜é‡ä½œç”¨åŸŸ**ï¼šå±€éƒ¨å˜é‡ vs å…¨å±€å˜é‡ï¼ŒLEGB è§„åˆ™
âœ… **Lambda**ï¼šåŒ¿åå‡½æ•°ï¼Œå¸¸ç”¨äºæ’åº key å’Œç®€å•è½¬æ¢
âœ… **æ¨¡å—å¯¼å…¥**ï¼š`import`ã€`from...import`ã€`as` åˆ«å
âœ… **æ ‡å‡†åº“**ï¼šosã€pathlibã€timeã€randomã€collections ç­‰
âœ… **è‡ªå®šä¹‰æ¨¡å—**ï¼š`if __name__ == "__main__"` çš„ä½œç”¨

> ğŸ”‘ **æ ¸å¿ƒè¦ç‚¹ï¼š** åœ¨è®¡ç®—æœºè§†è§‰ä¸­ï¼Œå‡½æ•°ç”¨äºå°è£…å›¾åƒå¤„ç†æ“ä½œï¼ˆç¼©æ”¾ã€å½’ä¸€åŒ–ã€æ£€æµ‹ç­‰ï¼‰ï¼Œæ¨¡å—ç”¨äºç»„ç»‡ä»£ç ç»“æ„ã€‚ç†Ÿç»ƒä½¿ç”¨ `numpy`ã€`cv2`ã€`pathlib` ç­‰æ¨¡å—æ˜¯åç»­å­¦ä¹ çš„åŸºç¡€ã€‚

**ä¸‹ä¸€æ­¥ï¼š**
ğŸ‘‰ [04 - é¢å‘å¯¹è±¡ç¼–ç¨‹](../04-é¢å‘å¯¹è±¡ç¼–ç¨‹/é¢å‘å¯¹è±¡ç¼–ç¨‹.md)

---

## ğŸ“š å‚è€ƒèµ„æ–™

- [Python å‡½æ•°æ–‡æ¡£](https://docs.python.org/zh-cn/3/tutorial/controlflow.html#defining-functions)
- [Python æ¨¡å—æ–‡æ¡£](https://docs.python.org/zh-cn/3/tutorial/modules.html)
- [Python æ ‡å‡†åº“ç´¢å¼•](https://docs.python.org/zh-cn/3/library/index.html)
