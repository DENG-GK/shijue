# æ–‡ä»¶æ“ä½œ

> æ–‡ä»¶æ“ä½œæ˜¯ç¨‹åºä¸å¤–éƒ¨æ•°æ®äº¤äº’çš„åŸºç¡€ï¼Œåœ¨è®¡ç®—æœºè§†è§‰ä¸­ç”¨äºè¯»å†™å›¾åƒã€é…ç½®æ–‡ä»¶å’Œæ•°æ®æ–‡ä»¶ã€‚åŒæ—¶ï¼Œå¼‚å¸¸å¤„ç†è®©ä½ çš„ç¨‹åºæ›´åŠ å¥å£®ã€‚

---

## ğŸ“– ç†è®ºéƒ¨åˆ†

### 1. ä¸ºä»€ä¹ˆéœ€è¦æ–‡ä»¶æ“ä½œï¼Ÿ

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å†™çš„ç¨‹åºæ•°æ®éƒ½åœ¨å†…å­˜ä¸­â€”â€”ç¨‹åºä¸€å…³ï¼Œæ•°æ®å°±æ²¡äº†ã€‚è€Œå®é™…å¼€å‘ä¸­ï¼Œä½ éœ€è¦ï¼š

- **è¯»å–å›¾åƒæ–‡ä»¶**ï¼šä»ç¡¬ç›˜åŠ è½½ jpg/png å›¾ç‰‡
- **ä¿å­˜å¤„ç†ç»“æœ**ï¼šæŠŠæ£€æµ‹ç»“æœå†™å…¥æ–‡æœ¬æˆ– JSON æ–‡ä»¶
- **è¯»å–é…ç½®æ–‡ä»¶**ï¼šä»é…ç½®æ–‡ä»¶ä¸­è¯»å–æ¨¡å‹å‚æ•°
- **å¤„ç†æ•°æ®é›†**ï¼šéå†æ–‡ä»¶å¤¹ï¼Œæ‰¹é‡è¯»å–è®­ç»ƒæ•°æ®
- **å†™å…¥æ—¥å¿—**ï¼šè®°å½•ç¨‹åºçš„è¿è¡ŒçŠ¶æ€å’Œé”™è¯¯ä¿¡æ¯

è¿™äº›éƒ½ç¦»ä¸å¼€**æ–‡ä»¶æ“ä½œ**ã€‚

---

### 2. æ–‡ä»¶è¯»å†™åŸºç¡€

#### 2.1 æ‰“å¼€æ–‡ä»¶ï¼šopen()

Python ä½¿ç”¨ `open()` å‡½æ•°æ‰“å¼€æ–‡ä»¶ï¼š

```python
file = open("æ–‡ä»¶è·¯å¾„", "æ¨¡å¼", encoding="ç¼–ç ")
```

**æ–‡ä»¶æ‰“å¼€æ¨¡å¼ï¼š**

| æ¨¡å¼ | å«ä¹‰ | è¯´æ˜ | æ–‡ä»¶ä¸å­˜åœ¨æ—¶ |
|------|------|------|--------------|
| `"r"` | è¯»å–ï¼ˆReadï¼‰ | é»˜è®¤æ¨¡å¼ï¼Œåªè¯» | âŒ æŠ¥é”™ |
| `"w"` | å†™å…¥ï¼ˆWriteï¼‰ | è¦†ç›–å†™å…¥ï¼Œæ¸…ç©ºåŸå†…å®¹ | âœ… è‡ªåŠ¨åˆ›å»º |
| `"a"` | è¿½åŠ ï¼ˆAppendï¼‰ | åœ¨æœ«å°¾è¿½åŠ å†…å®¹ | âœ… è‡ªåŠ¨åˆ›å»º |
| `"x"` | åˆ›å»ºï¼ˆExclusiveï¼‰ | åˆ›å»ºæ–°æ–‡ä»¶ï¼Œå·²å­˜åœ¨åˆ™æŠ¥é”™ | âœ… è‡ªåŠ¨åˆ›å»º |
| `"b"` | äºŒè¿›åˆ¶ï¼ˆBinaryï¼‰ | äºŒè¿›åˆ¶æ¨¡å¼ï¼Œæ­é…ä¸Šé¢ä½¿ç”¨ | - |
| `"t"` | æ–‡æœ¬ï¼ˆTextï¼‰ | æ–‡æœ¬æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ï¼Œæ­é…ä½¿ç”¨ | - |

**å¸¸ç”¨ç»„åˆï¼š**

```python
open("file.txt", "r")     # è¯»å–æ–‡æœ¬æ–‡ä»¶ï¼ˆæœ€å¸¸ç”¨ï¼‰
open("file.txt", "w")     # å†™å…¥æ–‡æœ¬æ–‡ä»¶ï¼ˆè¦†ç›–ï¼å°å¿ƒï¼ï¼‰
open("file.txt", "a")     # è¿½åŠ æ–‡æœ¬
open("image.jpg", "rb")   # è¯»å–äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå›¾ç‰‡ã€è§†é¢‘ï¼‰
open("output.bin", "wb")  # å†™å…¥äºŒè¿›åˆ¶æ–‡ä»¶
```

> âš ï¸ **é‡å¤§è­¦å‘Šï¼š** `"w"` æ¨¡å¼ä¼š**æ¸…ç©ºæ–‡ä»¶çš„å…¨éƒ¨å†…å®¹**ï¼å¦‚æœä½ åªæ˜¯æƒ³åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ å†…å®¹ï¼Œè¯·ç”¨ `"a"`ã€‚

#### 2.2 with è¯­å¥ï¼ˆæ¨èï¼ï¼‰

æ‰“å¼€æ–‡ä»¶åå¿…é¡»å…³é—­ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±æˆ–æ–‡ä»¶æŸåã€‚`with` è¯­å¥èƒ½**è‡ªåŠ¨å…³é—­**æ–‡ä»¶ï¼š

```python
# âŒ ä¸æ¨èï¼šæ‰‹åŠ¨æ‰“å¼€å’Œå…³é—­
file = open("data.txt", "r", encoding="utf-8")
content = file.read()
file.close()    # å®¹æ˜“å¿˜è®°ï¼å¦‚æœä¸­é—´å‡ºé”™ï¼Œclose() ä¸ä¼šæ‰§è¡Œ

# âœ… æ¨èï¼šä½¿ç”¨ withï¼ˆè‡ªåŠ¨å…³é—­ï¼‰
with open("data.txt", "r", encoding="utf-8") as file:
    content = file.read()
# ç¦»å¼€ with ä»£ç å—åï¼Œæ–‡ä»¶è‡ªåŠ¨å…³é—­ï¼Œå³ä½¿å‘ç”Ÿå¼‚å¸¸ä¹Ÿä¼šå…³é—­
```

> ğŸ’¡ **from now onï¼š** åé¢æ‰€æœ‰æ–‡ä»¶æ“ä½œéƒ½ä½¿ç”¨ `with` è¯­å¥ï¼Œè¿™æ˜¯ Python çš„æœ€ä½³å®è·µã€‚

#### 2.3 è¯»å–æ–‡ä»¶çš„ä¸‰ç§æ–¹å¼

```python
# å‡†å¤‡ä¸€ä¸ªç¤ºä¾‹æ–‡ä»¶ sample.txtï¼Œå†…å®¹å¦‚ä¸‹ï¼š
# ç¬¬ä¸€è¡Œï¼šHello
# ç¬¬äºŒè¡Œï¼šWorld
# ç¬¬ä¸‰è¡Œï¼šPython

# --- æ–¹å¼1ï¼šread() è¯»å–å…¨éƒ¨å†…å®¹ï¼ˆé€‚åˆå°æ–‡ä»¶ï¼‰---
with open("sample.txt", "r", encoding="utf-8") as f:
    content = f.read()    # è¿”å›æ•´ä¸ªæ–‡ä»¶çš„å­—ç¬¦ä¸²
print(content)
# Hello
# World
# Python

# --- æ–¹å¼2ï¼šreadline() è¯»å–ä¸€è¡Œ ---
with open("sample.txt", "r", encoding="utf-8") as f:
    line1 = f.readline()  # "Hello\n"
    line2 = f.readline()  # "World\n"
print(line1.strip())      # "Hello"ï¼ˆstrip() å»é™¤æ¢è¡Œç¬¦ï¼‰

# --- æ–¹å¼3ï¼šreadlines() è¯»å–æ‰€æœ‰è¡Œï¼ˆè¿”å›åˆ—è¡¨ï¼‰---
with open("sample.txt", "r", encoding="utf-8") as f:
    lines = f.readlines()  # ["Hello\n", "World\n", "Python\n"]
print(lines)

# --- æ–¹å¼4ï¼ˆæ¨èï¼‰ï¼šç›´æ¥éå†æ–‡ä»¶å¯¹è±¡ ---
with open("sample.txt", "r", encoding="utf-8") as f:
    for line in f:         # é€è¡Œè¯»å–ï¼Œå†…å­˜å‹å¥½
        print(line.strip())
```

**æ€ä¹ˆé€‰ï¼Ÿ**

| æ–¹å¼ | é€‚ç”¨åœºæ™¯ | å†…å­˜å ç”¨ |
|------|----------|----------|
| `read()` | å°æ–‡ä»¶ï¼Œéœ€è¦å…¨éƒ¨å†…å®¹ | é«˜ï¼ˆæ•´ä¸ªæ–‡ä»¶åŠ è½½åˆ°å†…å­˜ï¼‰ |
| `readlines()` | éœ€è¦æŒ‰è¡Œå¤„ç†ï¼Œæ–‡ä»¶ä¸å¤§ | é«˜ï¼ˆæ•´ä¸ªæ–‡ä»¶åŠ è½½åˆ°å†…å­˜ï¼‰ |
| `for line in f` | å¤§æ–‡ä»¶ï¼Œé€è¡Œå¤„ç† | ä½ï¼ˆæ¯æ¬¡åªè¯»ä¸€è¡Œï¼‰ âœ… |

> ğŸ’¡ **åœ¨è®¡ç®—æœºè§†è§‰ä¸­ï¼š** æ•°æ®é›†æ ‡æ³¨æ–‡ä»¶ï¼ˆå¦‚ COCO çš„ JSONï¼‰å¯èƒ½å¾ˆå¤§ï¼Œæ­¤æ—¶é€è¡Œè¯»å–æ›´å®‰å…¨ã€‚

#### 2.4 å†™å…¥æ–‡ä»¶

```python
# --- write()ï¼šå†™å…¥å­—ç¬¦ä¸² ---
with open("output.txt", "w", encoding="utf-8") as f:
    f.write("ç¬¬ä¸€è¡Œå†…å®¹\n")     # write() ä¸ä¼šè‡ªåŠ¨æ¢è¡Œï¼Œéœ€è¦æ‰‹åŠ¨åŠ  \n
    f.write("ç¬¬äºŒè¡Œå†…å®¹\n")
    f.write(f"å¤„ç†ç»“æœ: {42}\n")

# --- writelines()ï¼šå†™å…¥å­—ç¬¦ä¸²åˆ—è¡¨ ---
lines = ["è‹¹æœ\n", "é¦™è•‰\n", "æ¨±æ¡ƒ\n"]
with open("fruits.txt", "w", encoding="utf-8") as f:
    f.writelines(lines)    # æ³¨æ„ï¼šä¸ä¼šè‡ªåŠ¨åŠ æ¢è¡Œç¬¦ï¼

# --- print() ä¹Ÿå¯ä»¥å†™å…¥æ–‡ä»¶ ---
with open("log.txt", "w", encoding="utf-8") as f:
    print("ç¨‹åºå¼€å§‹è¿è¡Œ", file=f)          # print è‡ªåŠ¨æ¢è¡Œ
    print(f"æ£€æµ‹åˆ° {5} ä¸ªç›®æ ‡", file=f)
    print("å¤„ç†å®Œæˆ", file=f)

# --- è¿½åŠ æ¨¡å¼ ---
with open("log.txt", "a", encoding="utf-8") as f:
    f.write("è¿™æ˜¯è¿½åŠ çš„å†…å®¹\n")    # ä¸ä¼šè¦†ç›–åŸå†…å®¹
```

---

### 3. æ–‡ä»¶è·¯å¾„å¤„ç†

åœ¨è®¡ç®—æœºè§†è§‰ä¸­ï¼Œä½ ç»å¸¸éœ€è¦å¤„ç†å¤§é‡å›¾ç‰‡æ–‡ä»¶çš„è·¯å¾„ã€‚Python æä¾›äº†ä¸¤ç§è·¯å¾„å¤„ç†æ–¹å¼ã€‚

#### 3.1 os.pathï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰

```python
import os

# --- è·¯å¾„æ‹¼æ¥ï¼ˆè·¨å¹³å°å®‰å…¨ï¼ï¼‰---
base_dir = "E:/datasets"
filename = "image_001.jpg"
full_path = os.path.join(base_dir, "train", filename)
print(full_path)   # E:/datasets/train/image_001.jpg

# --- è·¯å¾„åˆ†è§£ ---
path = "E:/datasets/train/image_001.jpg"
print(os.path.dirname(path))     # E:/datasets/train     ï¼ˆç›®å½•éƒ¨åˆ†ï¼‰
print(os.path.basename(path))    # image_001.jpg          ï¼ˆæ–‡ä»¶åéƒ¨åˆ†ï¼‰
print(os.path.splitext(path))    # ('E:/datasets/train/image_001', '.jpg')

# å•ç‹¬è·å–æ–‡ä»¶åå’Œæ‰©å±•å
name, ext = os.path.splitext(os.path.basename(path))
print(f"æ–‡ä»¶å: {name}, æ‰©å±•å: {ext}")   # æ–‡ä»¶å: image_001, æ‰©å±•å: .jpg

# --- åˆ¤æ–­ ---
print(os.path.exists(path))      # æ–‡ä»¶/ç›®å½•æ˜¯å¦å­˜åœ¨
print(os.path.isfile(path))      # æ˜¯å¦æ˜¯æ–‡ä»¶
print(os.path.isdir(base_dir))   # æ˜¯å¦æ˜¯ç›®å½•
print(os.path.getsize(path))     # æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰

# --- ç›®å½•æ“ä½œ ---
os.makedirs("output/results", exist_ok=True)  # é€’å½’åˆ›å»ºç›®å½•ï¼ˆå·²å­˜åœ¨ä¸æŠ¥é”™ï¼‰
files = os.listdir("E:/datasets/train")       # åˆ—å‡ºç›®å½•å†…å®¹
```

> âš ï¸ **è·¯å¾„åˆ†éš”ç¬¦ï¼š** Windows ç”¨ `\`ï¼ŒLinux/Mac ç”¨ `/`ã€‚ä½¿ç”¨ `os.path.join()` å¯ä»¥è‡ªåŠ¨å¤„ç†ï¼ä¹Ÿå¯ä»¥åœ¨ Windows ä¸Šç»Ÿä¸€ä½¿ç”¨ `/`ã€‚

#### 3.2 pathlibï¼ˆæ¨èï¼ç°ä»£æ–¹å¼ï¼‰

`pathlib` æ˜¯ Python 3.4+ å¼•å…¥çš„é¢å‘å¯¹è±¡è·¯å¾„åº“ï¼Œè¯­æ³•æ›´ç›´è§‚ï¼š

```python
from pathlib import Path

# --- åˆ›å»ºè·¯å¾„ ---
base = Path("E:/datasets")
train_dir = base / "train"                 # ç”¨ / æ‹¼æ¥è·¯å¾„ï¼
image_path = train_dir / "image_001.jpg"
print(image_path)   # E:\datasets\train\image_001.jpg

# --- è·¯å¾„å±æ€§ ---
path = Path("E:/datasets/train/image_001.jpg")
print(path.name)       # image_001.jpg    ï¼ˆæ–‡ä»¶åï¼‰
print(path.stem)       # image_001         ï¼ˆä¸å«æ‰©å±•åçš„æ–‡ä»¶åï¼‰
print(path.suffix)     # .jpg              ï¼ˆæ‰©å±•åï¼‰
print(path.parent)     # E:\datasets\train ï¼ˆçˆ¶ç›®å½•ï¼‰
print(path.parts)      # ('E:\\', 'datasets', 'train', 'image_001.jpg')

# --- åˆ¤æ–­ ---
print(path.exists())   # æ˜¯å¦å­˜åœ¨
print(path.is_file())  # æ˜¯å¦æ˜¯æ–‡ä»¶
print(path.is_dir())   # æ˜¯å¦æ˜¯ç›®å½•

# --- ç›®å½•æ“ä½œ ---
output_dir = Path("output/results")
output_dir.mkdir(parents=True, exist_ok=True)   # é€’å½’åˆ›å»º

# --- éå†æ–‡ä»¶ï¼ˆè¶…çº§å¸¸ç”¨ï¼ï¼‰---
# è·å–æ‰€æœ‰ jpg æ–‡ä»¶
train_dir = Path("E:/datasets/train")
jpg_files = list(train_dir.glob("*.jpg"))         # å½“å‰ç›®å½•çš„ jpg
all_jpgs = list(train_dir.glob("**/*.jpg"))       # é€’å½’æŸ¥æ‰¾æ‰€æœ‰ jpg

# è·å–å¤šç§æ ¼å¼
images = []
for ext in ["*.jpg", "*.png", "*.bmp"]:
    images.extend(train_dir.glob(ext))

print(f"æ‰¾åˆ° {len(images)} å¼ å›¾ç‰‡")

# --- ä¿®æ”¹è·¯å¾„ ---
original = Path("data/input/photo.jpg")
output = original.with_name("photo_processed.jpg")     # æ”¹æ–‡ä»¶å
output2 = original.with_suffix(".png")                   # æ”¹æ‰©å±•å
output3 = Path("data/output") / original.name            # æ”¹ç›®å½•
print(output)    # data\input\photo_processed.jpg
print(output2)   # data\input\photo.png
print(output3)   # data\output\photo.jpg

# --- è¯»å†™æ–‡ä»¶ï¼ˆç®€æ´å†™æ³•ï¼‰---
# å†™å…¥
Path("output.txt").write_text("Hello World!", encoding="utf-8")

# è¯»å–
content = Path("output.txt").read_text(encoding="utf-8")
print(content)   # Hello World!
```

> ğŸ’¡ **å¼ºçƒˆæ¨èä½¿ç”¨ pathlibï¼** å®ƒæ¯” os.path æ›´ç›´è§‚ã€æ›´é¢å‘å¯¹è±¡ã€ä»£ç æ›´ç®€æ´ã€‚æœ¬æ•™ç¨‹åç»­ç« èŠ‚éƒ½ä¼šä½¿ç”¨ pathlibã€‚

---

### 4. å¸¸è§æ–‡ä»¶æ ¼å¼å¤„ç†

è®¡ç®—æœºè§†è§‰ä¸­ç»å¸¸ç”¨åˆ°ä»¥ä¸‹æ–‡ä»¶æ ¼å¼ã€‚

#### 4.1 CSV æ–‡ä»¶ï¼ˆé€—å·åˆ†éš”å€¼ï¼‰

CSV å¸¸ç”¨äºå­˜å‚¨è¡¨æ ¼æ•°æ®ï¼Œæ¯”å¦‚æ ‡æ³¨ç»“æœã€è¯„ä¼°æŒ‡æ ‡ç­‰ã€‚

```python
import csv

# --- å†™å…¥ CSV ---
results = [
    ["filename", "class", "confidence", "x", "y", "w", "h"],
    ["img1.jpg", "person", 0.95, 100, 50, 80, 200],
    ["img1.jpg", "car",    0.88, 300, 200, 150, 100],
    ["img2.jpg", "dog",    0.76, 50, 100, 60, 80],
]

with open("detections.csv", "w", newline="", encoding="utf-8") as f:
    writer = csv.writer(f)
    writer.writerows(results)    # å†™å…¥æ‰€æœ‰è¡Œ

# --- è¯»å– CSV ---
with open("detections.csv", "r", encoding="utf-8") as f:
    reader = csv.reader(f)
    header = next(reader)       # è¯»å–è¡¨å¤´
    print(f"åˆ—å: {header}")

    for row in reader:
        filename, cls, conf = row[0], row[1], float(row[2])
        print(f"  {filename}: {cls} ({conf:.0%})")

# --- ä½¿ç”¨ DictReaderï¼ˆæ¨èï¼æŒ‰åˆ—åè®¿é—®ï¼‰---
with open("detections.csv", "r", encoding="utf-8") as f:
    reader = csv.DictReader(f)
    for row in reader:
        print(f"  {row['filename']}: {row['class']} ({float(row['confidence']):.0%})")
```

#### 4.2 JSON æ–‡ä»¶

JSON æ˜¯æœ€æµè¡Œçš„ç»“æ„åŒ–æ•°æ®æ ¼å¼ï¼Œè®¡ç®—æœºè§†è§‰ä¸­çš„æ ‡æ³¨æ–‡ä»¶ï¼ˆCOCOã€LabelMe ç­‰ï¼‰éƒ½ç”¨ JSONã€‚

```python
import json

# --- å†™å…¥ JSON ---
detection_results = {
    "image": "street.jpg",
    "width": 1920,
    "height": 1080,
    "detections": [
        {"class": "person", "confidence": 0.95, "bbox": [100, 50, 80, 200]},
        {"class": "car",    "confidence": 0.88, "bbox": [300, 200, 150, 100]},
    ]
}

with open("results.json", "w", encoding="utf-8") as f:
    json.dump(detection_results, f,
              indent=4,              # ç¼©è¿›4ç©ºæ ¼ï¼Œæ ¼å¼ç¾è§‚
              ensure_ascii=False)    # æ”¯æŒä¸­æ–‡ï¼ˆé‡è¦ï¼ï¼‰

# --- è¯»å– JSON ---
with open("results.json", "r", encoding="utf-8") as f:
    data = json.load(f)

print(f"å›¾åƒ: {data['image']}")
print(f"å°ºå¯¸: {data['width']}x{data['height']}")
for det in data["detections"]:
    print(f"  {det['class']}: {det['confidence']:.0%}")

# --- å­—ç¬¦ä¸²ä¸ JSON äº’è½¬ ---
# Python å¯¹è±¡ â†’ JSON å­—ç¬¦ä¸²
json_str = json.dumps(detection_results, indent=2, ensure_ascii=False)
print(json_str)

# JSON å­—ç¬¦ä¸² â†’ Python å¯¹è±¡
obj = json.loads(json_str)
print(type(obj))   # <class 'dict'>
```

**JSON ä¸ Python ç±»å‹å¯¹åº”å…³ç³»ï¼š**

| JSON | Python |
|------|--------|
| `object {}` | `dict` |
| `array []` | `list` |
| `string ""` | `str` |
| `number` (æ•´æ•°) | `int` |
| `number` (å°æ•°) | `float` |
| `true/false` | `True/False` |
| `null` | `None` |

> ğŸ’¡ **å°è´´å£«ï¼š**
> - `json.dump()` â†’ å†™å…¥**æ–‡ä»¶**ï¼ˆdump to fileï¼‰
> - `json.dumps()` â†’ è½¬ä¸º**å­—ç¬¦ä¸²**ï¼ˆdump to stringï¼‰
> - `json.load()` â†’ ä»**æ–‡ä»¶**è¯»å–
> - `json.loads()` â†’ ä»**å­—ç¬¦ä¸²**è§£æ

---

### 5. å¼‚å¸¸å¤„ç†

ç¨‹åºè¿è¡Œæ—¶éš¾å…å‡ºé”™â€”â€”æ–‡ä»¶ä¸å­˜åœ¨ã€ç½‘ç»œæ–­å¼€ã€æ•°æ®æ ¼å¼é”™è¯¯...å¼‚å¸¸å¤„ç†è®©ä½ çš„ç¨‹åºé‡åˆ°é”™è¯¯æ—¶ä¸ä¼šç›´æ¥å´©æºƒã€‚

#### 5.1 try-except åŸºç¡€

```python
# âŒ ä¸å¤„ç†å¼‚å¸¸ï¼šç¨‹åºç›´æ¥å´©æºƒ
# file = open("ä¸å­˜åœ¨çš„æ–‡ä»¶.txt", "r")  # FileNotFoundError!

# âœ… å¤„ç†å¼‚å¸¸ï¼šç¨‹åºç»§ç»­è¿è¡Œ
try:
    file = open("ä¸å­˜åœ¨çš„æ–‡ä»¶.txt", "r")
    content = file.read()
except FileNotFoundError:
    print("âš ï¸ æ–‡ä»¶ä¸å­˜åœ¨ï¼")
    content = ""

print(f"ç¨‹åºç»§ç»­è¿è¡Œï¼Œcontent = '{content}'")
```

**æ‰§è¡Œæµç¨‹ï¼š**

```
try:
    â”‚
    â–¼
  æ‰§è¡Œä»£ç  â”€â”€â”€â†’ æ²¡å‡ºé”™ï¼Ÿ â”€â”€â”€â†’ è·³è¿‡ exceptï¼Œç»§ç»­
    â”‚
   å‡ºé”™äº†
    â”‚
    â–¼
  åŒ¹é… except çš„é”™è¯¯ç±»å‹ï¼Ÿ
    â”‚          â”‚
   æ˜¯          å¦
    â”‚          â”‚
    â–¼          â–¼
  æ‰§è¡Œexcept  ç¨‹åºå´©æºƒ
```

#### 5.2 æ•è·å¤šç§å¼‚å¸¸

```python
def safe_read_image(filepath):
    """å®‰å…¨åœ°è¯»å–æ–‡ä»¶"""
    try:
        with open(filepath, "r", encoding="utf-8") as f:
            data = f.read()
        return data
    except FileNotFoundError:
        print(f"âŒ æ–‡ä»¶ä¸å­˜åœ¨: {filepath}")
        return None
    except PermissionError:
        print(f"ğŸ”’ æ²¡æœ‰è¯»å–æƒé™: {filepath}")
        return None
    except UnicodeDecodeError:
        print(f"âš ï¸ ç¼–ç é”™è¯¯ï¼Œå°è¯•äºŒè¿›åˆ¶è¯»å–: {filepath}")
        with open(filepath, "rb") as f:
            return f.read()
    except Exception as e:
        # æ•è·æ‰€æœ‰å…¶ä»–å¼‚å¸¸ï¼ˆå…œåº•ï¼‰
        print(f"â“ æœªçŸ¥é”™è¯¯: {type(e).__name__}: {e}")
        return None
```

#### 5.3 try-except-else-finally

```python
filepath = "config.json"

try:
    # å¯èƒ½å‡ºé”™çš„ä»£ç 
    with open(filepath, "r", encoding="utf-8") as f:
        data = json.load(f)
except FileNotFoundError:
    # å‡ºé”™æ—¶æ‰§è¡Œ
    print(f"é…ç½®æ–‡ä»¶ä¸å­˜åœ¨ï¼Œä½¿ç”¨é»˜è®¤é…ç½®")
    data = {"width": 640, "height": 480}
except json.JSONDecodeError as e:
    print(f"JSON æ ¼å¼é”™è¯¯: {e}")
    data = {}
else:
    # æ²¡æœ‰å‡ºé”™æ—¶æ‰§è¡Œï¼ˆtry æˆåŠŸåï¼‰
    print(f"âœ… æˆåŠŸè¯»å–é…ç½®: {filepath}")
finally:
    # æ— è®ºæ˜¯å¦å‡ºé”™éƒ½æ‰§è¡Œï¼ˆæ¸…ç†å·¥ä½œï¼‰
    print("é…ç½®åŠ è½½æµç¨‹å®Œæˆ")

print(f"æœ€ç»ˆé…ç½®: {data}")
```

**å„éƒ¨åˆ†ä½œç”¨æ€»ç»“ï¼š**

| ä»£ç å— | ä»€ä¹ˆæ—¶å€™æ‰§è¡Œ | ç”¨é€” |
|--------|--------------|------|
| `try` | æ€»æ˜¯æ‰§è¡Œ | æ”¾å¯èƒ½å‡ºé”™çš„ä»£ç  |
| `except` | try å‡ºé”™æ—¶ | å¤„ç†é”™è¯¯ |
| `else` | try æ²¡å‡ºé”™æ—¶ | æ”¾æˆåŠŸåçš„é€»è¾‘ |
| `finally` | æ— è®ºå¦‚ä½•éƒ½æ‰§è¡Œ | æ¸…ç†èµ„æºï¼ˆå…³é—­è¿æ¥ç­‰ï¼‰ |

#### 5.4 å¸¸è§å¼‚å¸¸ç±»å‹

| å¼‚å¸¸ | åŸå›  | ç¤ºä¾‹ |
|------|------|------|
| `FileNotFoundError` | æ–‡ä»¶ä¸å­˜åœ¨ | `open("ä¸å­˜åœ¨.txt")` |
| `PermissionError` | æƒé™ä¸è¶³ | å°è¯•å†™å…¥åªè¯»æ–‡ä»¶ |
| `ValueError` | å€¼ä¸åˆæ³• | `int("abc")` |
| `TypeError` | ç±»å‹é”™è¯¯ | `"2" + 3` |
| `KeyError` | å­—å…¸é”®ä¸å­˜åœ¨ | `d["ä¸å­˜åœ¨çš„é”®"]` |
| `IndexError` | ç´¢å¼•è¶Šç•Œ | `lst[999]` |
| `ZeroDivisionError` | é™¤ä»¥é›¶ | `1 / 0` |
| `ImportError` | å¯¼å…¥å¤±è´¥ | `import ä¸å­˜åœ¨çš„æ¨¡å—` |
| `AttributeError` | å±æ€§ä¸å­˜åœ¨ | `"hello".ä¸å­˜åœ¨çš„æ–¹æ³•()` |
| `UnicodeDecodeError` | ç¼–ç é”™è¯¯ | ç”¨ utf-8 è¯» gbk æ–‡ä»¶ |
| `json.JSONDecodeError` | JSON è§£æå¤±è´¥ | `json.loads("ä¸æ˜¯json")` |

#### 5.5 ä¸»åŠ¨æŠ›å‡ºå¼‚å¸¸

```python
def set_threshold(value):
    """è®¾ç½®é˜ˆå€¼ï¼ˆå¿…é¡»åœ¨ 0~1 ä¹‹é—´ï¼‰"""
    if not isinstance(value, (int, float)):
        raise TypeError(f"é˜ˆå€¼å¿…é¡»æ˜¯æ•°å­—ï¼Œæ”¶åˆ°: {type(value).__name__}")
    if not 0 <= value <= 1:
        raise ValueError(f"é˜ˆå€¼å¿…é¡»åœ¨ 0~1 ä¹‹é—´ï¼Œæ”¶åˆ°: {value}")
    print(f"é˜ˆå€¼è®¾ç½®ä¸º: {value}")

# æ­£å¸¸ä½¿ç”¨
set_threshold(0.5)      # âœ… é˜ˆå€¼è®¾ç½®ä¸º: 0.5

# å¼‚å¸¸æƒ…å†µ
try:
    set_threshold(2.0)   # âŒ
except ValueError as e:
    print(f"å‚æ•°é”™è¯¯: {e}")
# è¾“å‡º: å‚æ•°é”™è¯¯: é˜ˆå€¼å¿…é¡»åœ¨ 0~1 ä¹‹é—´ï¼Œæ”¶åˆ°: 2.0

try:
    set_threshold("abc") # âŒ
except TypeError as e:
    print(f"ç±»å‹é”™è¯¯: {e}")
# è¾“å‡º: ç±»å‹é”™è¯¯: é˜ˆå€¼å¿…é¡»æ˜¯æ•°å­—ï¼Œæ”¶åˆ°: str
```

---

## ğŸ’» ä»£ç å®æˆ˜

### å®æˆ˜ç»ƒä¹ ï¼šæ•°æ®é›†ç®¡ç†å·¥å…·

è¿è¡Œ `code/file_ops.py` æŸ¥çœ‹å®Œæ•´ç¤ºä¾‹ã€‚

```python
# ===================================================================
# å®æˆ˜ç»ƒä¹ ï¼šæ•°æ®é›†ç®¡ç†å·¥å…·
# ç›®æ ‡ï¼šç»¼åˆè¿ç”¨æ–‡ä»¶æ“ä½œã€è·¯å¾„å¤„ç†ã€JSON/CSVã€å¼‚å¸¸å¤„ç†
# ===================================================================

import os
import json
import csv
from pathlib import Path

# ---------- 1. è·¯å¾„å¤„ç† ----------
print("=" * 50)
print("ğŸ“‚ æ•°æ®é›†è·¯å¾„ç®¡ç†")
print("=" * 50)

# æ¨¡æ‹Ÿæ•°æ®é›†ç›®å½•ç»“æ„
dataset_root = Path("demo_dataset")
train_dir = dataset_root / "train"
val_dir = dataset_root / "val"
output_dir = dataset_root / "output"

# åˆ›å»ºç›®å½•ç»“æ„
for d in [train_dir, val_dir, output_dir]:
    d.mkdir(parents=True, exist_ok=True)
    print(f"  ğŸ“ åˆ›å»ºç›®å½•: {d}")

# åˆ›å»ºæ¨¡æ‹Ÿæ–‡ä»¶
sample_files = ["img_001.jpg", "img_002.png", "img_003.jpg",
                "notes.txt", "img_004.bmp", "config.json"]

for f in sample_files:
    filepath = train_dir / f
    filepath.write_text(f"æ¨¡æ‹Ÿæ–‡ä»¶: {f}", encoding="utf-8")

# ä½¿ç”¨ pathlib ç­›é€‰å›¾ç‰‡æ–‡ä»¶
print(f"\nğŸ“· æ‰«æå›¾ç‰‡æ–‡ä»¶:")
image_extensions = {".jpg", ".png", ".bmp", ".tiff"}
image_files = [f for f in train_dir.iterdir()
               if f.suffix.lower() in image_extensions]

for f in sorted(image_files):
    print(f"  ğŸ–¼ï¸ {f.name} (æ‰©å±•å: {f.suffix})")

print(f"  å…±æ‰¾åˆ° {len(image_files)} å¼ å›¾ç‰‡")

# ç”Ÿæˆè¾“å‡ºè·¯å¾„
print(f"\nğŸ“¤ è¾“å‡ºè·¯å¾„æ˜ å°„:")
for img in image_files:
    out_path = output_dir / f"processed_{img.stem}{img.suffix}"
    print(f"  {img.name:>15s} â†’ {out_path.name}")

# ---------- 2. JSON æ“ä½œï¼šé¡¹ç›®é…ç½® ----------
print("\n" + "=" * 50)
print("âš™ï¸ JSON é…ç½®ç®¡ç†")
print("=" * 50)

# åˆ›å»ºé…ç½®
config = {
    "project": "ç›®æ ‡æ£€æµ‹",
    "model": {
        "name": "YOLOv5s",
        "input_size": [640, 640],
        "confidence_threshold": 0.5,
        "nms_threshold": 0.45
    },
    "dataset": {
        "train_dir": str(train_dir),
        "val_dir": str(val_dir),
        "classes": ["person", "car", "dog", "cat"],
        "num_classes": 4
    },
    "training": {
        "epochs": 100,
        "batch_size": 16,
        "learning_rate": 0.001
    }
}

# å†™å…¥ JSON
config_path = dataset_root / "config.json"
with open(config_path, "w", encoding="utf-8") as f:
    json.dump(config, f, indent=4, ensure_ascii=False)
print(f"  âœ… é…ç½®å·²ä¿å­˜åˆ°: {config_path}")

# è¯»å– JSON
with open(config_path, "r", encoding="utf-8") as f:
    loaded_config = json.load(f)

print(f"  ğŸ“– è¯»å–é…ç½®:")
print(f"     é¡¹ç›®: {loaded_config['project']}")
print(f"     æ¨¡å‹: {loaded_config['model']['name']}")
print(f"     è¾“å…¥å°ºå¯¸: {loaded_config['model']['input_size']}")
print(f"     ç±»åˆ«: {loaded_config['dataset']['classes']}")
print(f"     è®­ç»ƒè½®æ•°: {loaded_config['training']['epochs']}")

# ---------- 3. CSV æ“ä½œï¼šæ£€æµ‹ç»“æœ ----------
print("\n" + "=" * 50)
print("ğŸ“Š CSV æ£€æµ‹ç»“æœç®¡ç†")
print("=" * 50)

# æ¨¡æ‹Ÿæ£€æµ‹ç»“æœ
detections = [
    {"image": "img_001.jpg", "class": "person", "confidence": 0.95,
     "x": 100, "y": 50, "w": 80, "h": 200},
    {"image": "img_001.jpg", "class": "car",    "confidence": 0.88,
     "x": 300, "y": 200, "w": 150, "h": 100},
    {"image": "img_002.png", "class": "dog",    "confidence": 0.76,
     "x": 50,  "y": 100, "w": 60,  "h": 80},
    {"image": "img_003.jpg", "class": "person", "confidence": 0.82,
     "x": 200, "y": 80,  "w": 70,  "h": 180},
    {"image": "img_003.jpg", "class": "cat",    "confidence": 0.69,
     "x": 400, "y": 300, "w": 50,  "h": 40},
]

# å†™å…¥ CSV
csv_path = dataset_root / "detections.csv"
fieldnames = ["image", "class", "confidence", "x", "y", "w", "h"]

with open(csv_path, "w", newline="", encoding="utf-8") as f:
    writer = csv.DictWriter(f, fieldnames=fieldnames)
    writer.writeheader()
    writer.writerows(detections)
print(f"  âœ… æ£€æµ‹ç»“æœå·²ä¿å­˜åˆ°: {csv_path}")

# è¯»å– CSV å¹¶ç»Ÿè®¡
with open(csv_path, "r", encoding="utf-8") as f:
    reader = csv.DictReader(f)
    rows = list(reader)

print(f"  ğŸ“– è¯»å– {len(rows)} æ¡æ£€æµ‹è®°å½•:")

# æŒ‰å›¾ç‰‡åˆ†ç»„ç»Ÿè®¡
from collections import defaultdict, Counter
by_image = defaultdict(list)
for row in rows:
    by_image[row["image"]].append(row)

for img_name, dets in by_image.items():
    classes = [d["class"] for d in dets]
    avg_conf = sum(float(d["confidence"]) for d in dets) / len(dets)
    print(f"     {img_name}: {len(dets)} ä¸ªç›®æ ‡ "
          f"({', '.join(classes)}), å¹³å‡ç½®ä¿¡åº¦: {avg_conf:.0%}")

# ç±»åˆ«ç»Ÿè®¡
class_counter = Counter(row["class"] for row in rows)
print(f"\n  ğŸ“ˆ ç±»åˆ«ç»Ÿè®¡:")
for cls, count in class_counter.most_common():
    print(f"     {cls}: {count} ä¸ª")

# ---------- 4. å¼‚å¸¸å¤„ç†å®æˆ˜ ----------
print("\n" + "=" * 50)
print("ğŸ›¡ï¸ å¼‚å¸¸å¤„ç†å®æˆ˜")
print("=" * 50)

def safe_load_config(filepath):
    """å®‰å…¨åŠ è½½é…ç½®æ–‡ä»¶"""
    filepath = Path(filepath)
    try:
        if not filepath.exists():
            raise FileNotFoundError(f"é…ç½®æ–‡ä»¶ä¸å­˜åœ¨: {filepath}")

        with open(filepath, "r", encoding="utf-8") as f:
            config = json.load(f)

        # éªŒè¯å¿…è¦å­—æ®µ
        required_keys = ["model", "dataset"]
        for key in required_keys:
            if key not in config:
                raise KeyError(f"é…ç½®ç¼ºå°‘å¿…è¦å­—æ®µ: {key}")

        return config

    except FileNotFoundError as e:
        print(f"  âŒ {e}")
        return None
    except json.JSONDecodeError as e:
        print(f"  âŒ JSON è§£æå¤±è´¥: {e}")
        return None
    except KeyError as e:
        print(f"  âŒ é…ç½®ä¸å®Œæ•´: {e}")
        return None
    except Exception as e:
        print(f"  âŒ æœªçŸ¥é”™è¯¯: {type(e).__name__}: {e}")
        return None

# æµ‹è¯•å„ç§æƒ…å†µ
print("\næµ‹è¯•1: æ­£å¸¸æ–‡ä»¶")
result = safe_load_config(config_path)
if result:
    print(f"  âœ… åŠ è½½æˆåŠŸ: {result['project']}")

print("\næµ‹è¯•2: ä¸å­˜åœ¨çš„æ–‡ä»¶")
safe_load_config("ä¸å­˜åœ¨çš„æ–‡ä»¶.json")

print("\næµ‹è¯•3: æ— æ•ˆ JSON")
bad_json = dataset_root / "bad.json"
bad_json.write_text("è¿™ä¸æ˜¯JSONæ ¼å¼{{{", encoding="utf-8")
safe_load_config(bad_json)

# ---------- 5. æ‰¹é‡æ–‡ä»¶å¤„ç† ----------
print("\n" + "=" * 50)
print("ğŸ”„ æ‰¹é‡æ–‡ä»¶å¤„ç†")
print("=" * 50)

def batch_process_images(input_dir, output_dir, log_file):
    """æ‰¹é‡å¤„ç†å›¾ç‰‡æ–‡ä»¶

    æ¼”ç¤ºå®Œæ•´çš„æ–‡ä»¶å¤„ç†æµç¨‹ï¼š
    éå† â†’ è¯»å– â†’ å¤„ç† â†’ ä¿å­˜ â†’ è®°å½•æ—¥å¿—
    """
    input_dir = Path(input_dir)
    output_dir = Path(output_dir)
    output_dir.mkdir(parents=True, exist_ok=True)

    image_exts = {".jpg", ".png", ".bmp"}
    processed = 0
    errors = 0

    with open(log_file, "w", encoding="utf-8") as log:
        log.write("filename,status,message\n")

        for filepath in sorted(input_dir.iterdir()):
            if filepath.suffix.lower() not in image_exts:
                continue

            try:
                # æ¨¡æ‹Ÿè¯»å–å’Œå¤„ç†
                content = filepath.read_text(encoding="utf-8")

                # æ¨¡æ‹Ÿä¿å­˜
                out_path = output_dir / f"processed_{filepath.name}"
                out_path.write_text(f"å¤„ç†å: {content}", encoding="utf-8")

                log.write(f"{filepath.name},success,å¤„ç†å®Œæˆ\n")
                processed += 1
                print(f"  âœ… {filepath.name} â†’ {out_path.name}")

            except Exception as e:
                errors += 1
                log.write(f"{filepath.name},error,{str(e)}\n")
                print(f"  âŒ {filepath.name}: {e}")

    return processed, errors

# æ‰§è¡Œæ‰¹å¤„ç†
log_path = dataset_root / "process_log.csv"
success, fail = batch_process_images(train_dir, output_dir, log_path)
print(f"\n  å¤„ç†å®Œæˆ: æˆåŠŸ {success}, å¤±è´¥ {fail}")
print(f"  æ—¥å¿—æ–‡ä»¶: {log_path}")

# è¯»å–æ—¥å¿—
print(f"\n  ğŸ“‹ å¤„ç†æ—¥å¿—:")
with open(log_path, "r", encoding="utf-8") as f:
    reader = csv.DictReader(f)
    for row in reader:
        status_icon = "âœ…" if row["status"] == "success" else "âŒ"
        print(f"     {status_icon} {row['filename']}: {row['message']}")

# ---------- 6. æ¸…ç†æ¼”ç¤ºæ–‡ä»¶ ----------
import shutil
if dataset_root.exists():
    shutil.rmtree(dataset_root)
    print(f"\nğŸ§¹ å·²æ¸…ç†æ¼”ç¤ºç›®å½•: {dataset_root}")
```

---

## ğŸš¨ å¸¸è§é—®é¢˜ä¸æ˜“é”™ç‚¹

### Q1: æ–‡ä»¶ç¼–ç é”™è¯¯æ€ä¹ˆåŠï¼Ÿ

```python
# æœ€å¸¸è§çš„ç¼–ç é—®é¢˜ï¼šWindows ä¸­æ–‡ç¯å¢ƒé»˜è®¤ GBKï¼Œä½†å¾ˆå¤šæ–‡ä»¶æ˜¯ UTF-8

# âŒ å¯èƒ½æŠ¥é”™
# with open("ä¸­æ–‡æ–‡ä»¶.txt", "r") as f:  # æ²¡æŒ‡å®šç¼–ç ï¼Œå¯èƒ½ç”¨ GBK æ‰“å¼€ UTF-8 æ–‡ä»¶

# âœ… å§‹ç»ˆæŒ‡å®šç¼–ç 
with open("æ–‡ä»¶.txt", "r", encoding="utf-8") as f:
    content = f.read()

# å¦‚æœä¸ç¡®å®šç¼–ç ï¼Œå¯ä»¥å°è¯•å¤šç§ç¼–ç 
def read_file_smart(filepath):
    """è‡ªåŠ¨å°è¯•å¤šç§ç¼–ç """
    encodings = ["utf-8", "gbk", "gb2312", "latin-1"]
    for enc in encodings:
        try:
            with open(filepath, "r", encoding=enc) as f:
                return f.read()
        except UnicodeDecodeError:
            continue
    raise UnicodeDecodeError(f"æ— æ³•è¯†åˆ«æ–‡ä»¶ç¼–ç : {filepath}")
```

### Q2: os.path å’Œ pathlib ç”¨å“ªä¸ªï¼Ÿ

| åœºæ™¯ | æ¨è |
|------|------|
| æ–°é¡¹ç›® | **pathlib**ï¼ˆæ›´ç°ä»£ã€æ›´ç›´è§‚ï¼‰ |
| ç»´æŠ¤æ—§ä»£ç  | os.pathï¼ˆä¿æŒä¸€è‡´æ€§ï¼‰ |
| éœ€è¦å’Œç¬¬ä¸‰æ–¹åº“é…åˆ | çœ‹åº“è¦æ±‚ï¼ˆå¤§å¤šæ•°åº“ä¸¤è€…éƒ½æ”¯æŒï¼‰ |

### Q3: JSON æ–‡ä»¶ä¸­æ–‡ä¹±ç ï¼Ÿ

```python
# âŒ ä¸­æ–‡å˜æˆ \u4e2d\u6587
json.dump(data, f)

# âœ… æ­£ç¡®æ˜¾ç¤ºä¸­æ–‡
json.dump(data, f, ensure_ascii=False, indent=4)
```

### Q4: try-except æ˜¯ä¸æ˜¯æŠŠæ‰€æœ‰ä»£ç éƒ½åŒ…èµ·æ¥å°±å¥½ï¼Ÿ

**ä¸æ˜¯ï¼** åªåŒ…è£¹å¯èƒ½å‡ºé”™çš„**æœ€å°èŒƒå›´**çš„ä»£ç ï¼š

```python
# âŒ ä¸å¥½ï¼šèŒƒå›´å¤ªå¤§ï¼Œä¸çŸ¥é“å“ªé‡Œå‡ºé”™
try:
    data = read_file()
    result = process(data)
    save_result(result)
    send_email()
except Exception:
    print("å‡ºé”™äº†")  # åˆ°åº•å“ªä¸€æ­¥å‡ºé”™ï¼Ÿä¸çŸ¥é“

# âœ… å¥½ï¼šæ¯ä¸ªå¯èƒ½å‡ºé”™çš„åœ°æ–¹å•ç‹¬å¤„ç†
try:
    data = read_file()
except FileNotFoundError:
    print("æ–‡ä»¶ä¸å­˜åœ¨")
    data = default_data

try:
    result = process(data)
except ValueError as e:
    print(f"å¤„ç†é”™è¯¯: {e}")
    result = None
```

---

## ğŸ¯ æ€»ç»“

æœ¬èŠ‚å­¦ä¹ äº† Python æ–‡ä»¶æ“ä½œå’Œå¼‚å¸¸å¤„ç†ï¼š

âœ… **æ–‡ä»¶è¯»å†™**ï¼š`open()`ã€`read()`/`write()`ã€`with` è‡ªåŠ¨å…³é—­
âœ… **è¯»å–æ–¹å¼**ï¼š`read()`ï¼ˆå…¨éƒ¨ï¼‰ã€`readline()`ï¼ˆä¸€è¡Œï¼‰ã€`for line in f`ï¼ˆé€è¡Œï¼Œæ¨èï¼‰
âœ… **å†™å…¥æ–¹å¼**ï¼š`write()`ï¼ˆå­—ç¬¦ä¸²ï¼‰ã€`writelines()`ï¼ˆåˆ—è¡¨ï¼‰ã€`print(file=f)`
âœ… **è·¯å¾„å¤„ç†**ï¼š`os.path`ï¼ˆä¼ ç»Ÿï¼‰vs `pathlib`ï¼ˆæ¨èï¼é¢å‘å¯¹è±¡ï¼‰
âœ… **CSV å¤„ç†**ï¼š`csv.reader/writer`ã€`csv.DictReader/DictWriter`
âœ… **JSON å¤„ç†**ï¼š`json.dump/load`ï¼ˆæ–‡ä»¶ï¼‰ã€`json.dumps/loads`ï¼ˆå­—ç¬¦ä¸²ï¼‰
âœ… **å¼‚å¸¸å¤„ç†**ï¼š`try-except-else-finally`ã€å¸¸è§å¼‚å¸¸ç±»å‹ã€ä¸»åŠ¨ `raise`
âœ… **æ–‡ä»¶éå†**ï¼š`pathlib.glob()` åŒ¹é…æ–‡ä»¶ã€é€’å½’æœç´¢ `**/*.jpg`

> ğŸ”‘ **æ ¸å¿ƒè¦ç‚¹ï¼š** åœ¨è®¡ç®—æœºè§†è§‰ä¸­ï¼Œæ–‡ä»¶æ“ä½œç”¨äºåŠ è½½æ•°æ®é›†ã€è¯»å–æ ‡æ³¨æ–‡ä»¶ï¼ˆJSON/CSVï¼‰ã€ä¿å­˜å¤„ç†ç»“æœå’Œæ¨¡å‹é…ç½®ã€‚`pathlib` + `json` + å¼‚å¸¸å¤„ç†æ˜¯å¿…å¤‡æŠ€èƒ½ç»„åˆã€‚

**ä¸‹ä¸€æ­¥ï¼š**
ğŸ‘‰ [ç¬¬03ç«  - NumPyåŸºç¡€](../../ç¬¬03ç« -NumPyåŸºç¡€/NumPyåŸºç¡€.md)

---

## ğŸ“š å‚è€ƒèµ„æ–™

- [Python æ–‡ä»¶è¯»å†™æ–‡æ¡£](https://docs.python.org/zh-cn/3/tutorial/inputoutput.html#reading-and-writing-files)
- [pathlib æ–‡æ¡£](https://docs.python.org/zh-cn/3/library/pathlib.html)
- [json æ¨¡å—æ–‡æ¡£](https://docs.python.org/zh-cn/3/library/json.html)
- [csv æ¨¡å—æ–‡æ¡£](https://docs.python.org/zh-cn/3/library/csv.html)
- [Python å¼‚å¸¸å¤„ç†](https://docs.python.org/zh-cn/3/tutorial/errors.html)
