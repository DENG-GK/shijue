# è¾¹ç¼˜æ£€æµ‹ç†è®º

> è¾¹ç¼˜æ£€æµ‹ï¼ˆEdge Detectionï¼‰æ˜¯å›¾åƒå¤„ç†ä¸­æœ€é‡è¦çš„åŸºç¡€æ“ä½œä¹‹ä¸€ã€‚å®ƒå°±åƒæ˜¯ç»™å›¾åƒ"æè¾¹"â€”â€”æ‰¾å‡ºç‰©ä½“çš„è½®å»“ã€‚æ— è®ºæ˜¯è‡ªåŠ¨é©¾é©¶ä¸­çš„è½¦é“çº¿æ£€æµ‹ã€å·¥ä¸šè§†è§‰ä¸­çš„ç¼ºé™·æ£€æµ‹ï¼Œè¿˜æ˜¯äººè„¸è¯†åˆ«ä¸­çš„ç‰¹å¾æå–ï¼Œè¾¹ç¼˜æ£€æµ‹éƒ½æ˜¯å…³é”®çš„ç¬¬ä¸€æ­¥ï¼

---

## ğŸ“– ç†è®ºéƒ¨åˆ†

### 1. ä»€ä¹ˆæ˜¯è¾¹ç¼˜ï¼Ÿ

#### 1.1 ä»ç”Ÿæ´»ä¸­ç†è§£è¾¹ç¼˜

åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬æ—¶åˆ»éƒ½åœ¨"æ£€æµ‹è¾¹ç¼˜"ï¼š

```
ç”Ÿæ´»ä¸­çš„"è¾¹ç¼˜æ£€æµ‹"ï¼š

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                             â”‚
  â”‚  ğŸ“± æ‰‹æœºå±å¹•çš„è¾¹æ¡†                                           â”‚
  â”‚     å±å¹•ï¼ˆäº®ï¼‰å’Œè¾¹æ¡†ï¼ˆæš—ï¼‰çš„äº¤ç•Œå¤„ â†’ è¾¹ç¼˜                    â”‚
  â”‚                                                             â”‚
  â”‚  ğŸš— åœè½¦çº¿                                                   â”‚
  â”‚     ç™½è‰²çº¿æ¡å’Œé»‘è‰²è·¯é¢çš„äº¤ç•Œå¤„ â†’ è¾¹ç¼˜                        â”‚
  â”‚                                                             â”‚
  â”‚  ğŸ“„ ç™½çº¸ä¸Šçš„æ–‡å­—                                             â”‚
  â”‚     é»‘è‰²ç¬”è¿¹å’Œç™½è‰²çº¸å¼ çš„äº¤ç•Œå¤„ â†’ è¾¹ç¼˜                        â”‚
  â”‚                                                             â”‚
  â”‚  ğŸŒ… åœ°å¹³çº¿                                                   â”‚
  â”‚     å¤©ç©ºå’Œå¤§åœ°çš„äº¤ç•Œå¤„ â†’ è¾¹ç¼˜                                â”‚
  â”‚                                                             â”‚
  â”‚  ğŸ‘¤ äººç‰©å‰ªå½±                                                 â”‚
  â”‚     äººç‰©å’ŒèƒŒæ™¯çš„äº¤ç•Œå¤„ â†’ è¾¹ç¼˜                                â”‚
  â”‚                                                             â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  å…±åŒç‰¹ç‚¹ï¼šè¾¹ç¼˜å°±æ˜¯"é¢œè‰²/äº®åº¦å‘ç”Ÿå‰§çƒˆå˜åŒ–"çš„åœ°æ–¹ï¼
```

#### 1.2 å›¾åƒä¸­çš„è¾¹ç¼˜å®šä¹‰

åœ¨æ•°å­—å›¾åƒä¸­ï¼Œ**è¾¹ç¼˜**æ˜¯æŒ‡å›¾åƒä¸­**åƒç´ ç°åº¦å€¼å‘ç”Ÿå‰§çƒˆå˜åŒ–**çš„ä½ç½®ï¼š

```
è¾¹ç¼˜çš„æœ¬è´¨ï¼šç°åº¦å€¼çš„"è·³å˜"

  ä¸€ç»´ç°åº¦å˜åŒ–ç¤ºä¾‹ï¼ˆå›¾åƒçš„ä¸€è¡Œåƒç´ ï¼‰ï¼š

  ç°åº¦å€¼
    â”‚
  200â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚          â”‚
  150â”œ          â”‚
    â”‚          â”‚
  100â”œ          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â”‚          â”‚
   50â”œ          â”‚
    â”‚          â”‚
    0â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ åƒç´ ä½ç½®
              â†‘
           è¿™é‡Œæ˜¯è¾¹ç¼˜ï¼
        ï¼ˆç°åº¦å€¼çªç„¶ä»é«˜å˜ä½ï¼‰

  äºŒç»´å›¾åƒä¸­çš„è¾¹ç¼˜ï¼š

    åŸå§‹å›¾åƒ                    è¾¹ç¼˜
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚           â”‚             â”‚
  â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚           â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
  â”‚             â”‚     â†’     â”‚             â”‚
  â”‚             â”‚           â”‚             â”‚
  â”‚             â”‚           â”‚             â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    ä¸ŠåŠéƒ¨æ·±è‰²                  æ£€æµ‹åˆ°æ°´å¹³è¾¹ç¼˜
    ä¸‹åŠéƒ¨æµ…è‰²
```

#### 1.3 è¾¹ç¼˜çš„ç±»å‹

å›¾åƒä¸­çš„è¾¹ç¼˜æœ‰ä¸åŒçš„ç±»å‹ï¼š

```
è¾¹ç¼˜çš„å››ç§åŸºæœ¬ç±»å‹ï¼š

  1. é˜¶è·ƒè¾¹ç¼˜ï¼ˆStep Edgeï¼‰          2. æ–œå¡è¾¹ç¼˜ï¼ˆRamp Edgeï¼‰
     ç°åº¦å€¼                            ç°åº¦å€¼
       â”‚   â”Œâ”€â”€â”€â”€                        â”‚      â•±â”€â”€â”€â”€
       â”‚   â”‚                            â”‚     â•±
       â”‚   â”‚                            â”‚    â•±
       â”‚â”€â”€â”€â”˜                            â”‚â”€â”€â”€â•±
       â””â”€â”€â”€â”€â”€â”€â†’                         â””â”€â”€â”€â”€â”€â”€â†’
     çªç„¶è·³å˜ï¼Œæœ€ç†æƒ³çš„è¾¹ç¼˜            æ¸å˜è¿‡æ¸¡ï¼Œç°å®ä¸­æ›´å¸¸è§

  3. å±‹é¡¶è¾¹ç¼˜ï¼ˆRoof Edgeï¼‰          4. çº¿æ¡è¾¹ç¼˜ï¼ˆLine Edgeï¼‰
     ç°åº¦å€¼                            ç°åº¦å€¼
       â”‚    â•±â•²                          â”‚   â”Œâ”€â”
       â”‚   â•±  â•²                         â”‚   â”‚ â”‚
       â”‚  â•±    â•²                        â”‚   â”‚ â”‚
       â”‚â”€â•±      â•²â”€â”€                     â”‚â”€â”€â”€â”˜ â””â”€â”€â”€
       â””â”€â”€â”€â”€â”€â”€â”€â†’                        â””â”€â”€â”€â”€â”€â”€â†’
     å‡¸èµ·æˆ–å‡¹é™·                         ç»†çº¿æ¡ï¼Œæœ‰ä¸¤ä¸ªè¾¹ç¼˜

  ç°å®ä¸–ç•Œä¸­çš„è¾¹ç¼˜é€šå¸¸æ˜¯"æ–œå¡è¾¹ç¼˜"ï¼Œå› ä¸ºï¼š
  â€¢ ç›¸æœºçš„å¯¹ç„¦ä¸å®Œç¾
  â€¢ å…‰ç…§çš„æ¸å˜
  â€¢ ç‰©ä½“è¡¨é¢çš„çº¹ç†
```

---

### 2. è¾¹ç¼˜æ£€æµ‹çš„æ•°å­¦åŸç†

#### 2.1 ä¸ºä»€ä¹ˆç”¨å¯¼æ•°ï¼Ÿ

è¾¹ç¼˜å°±æ˜¯"å˜åŒ–å‰§çƒˆ"çš„åœ°æ–¹ï¼Œè€Œ**å¯¼æ•°ï¼ˆå¾®åˆ†ï¼‰æ­£æ˜¯ç”¨æ¥åº¦é‡å˜åŒ–å¿«æ…¢çš„å·¥å…·**ï¼

```
å¯¼æ•°ä¸è¾¹ç¼˜çš„å…³ç³»ï¼š

  å›å¿†é«˜ä¸­æ•°å­¦ï¼š
  â€¢ å¯¼æ•° = å˜åŒ–ç‡
  â€¢ å¯¼æ•°å¤§ â†’ å˜åŒ–å¿«
  â€¢ å¯¼æ•°å° â†’ å˜åŒ–æ…¢

  åº”ç”¨åˆ°å›¾åƒï¼š
  ç°åº¦å€¼                    ä¸€é˜¶å¯¼æ•°ï¼ˆæ¢¯åº¦ï¼‰
    â”‚   â”Œâ”€â”€â”€â”€                  â”‚
    â”‚   â”‚                      â”‚    â•²â•±
    â”‚   â”‚                      â”‚
    â”‚â”€â”€â”€â”˜                      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â””â”€â”€â”€â”€â”€â”€â†’ ä½ç½®             â””â”€â”€â”€â”€â”€â”€â†’ ä½ç½®
                                   â†‘
                              å¯¼æ•°æœ€å¤§çš„ä½ç½®
                              å°±æ˜¯è¾¹ç¼˜ä½ç½®ï¼
```

#### 2.2 ä¸€é˜¶å¯¼æ•°ä¸æ¢¯åº¦

åœ¨ä¸€ç»´ä¿¡å·ä¸­ï¼Œå¯¼æ•°å°±æ˜¯ç›¸é‚»å€¼çš„å·®ï¼š

```
ä¸€ç»´ç¦»æ•£å¯¼æ•°ï¼š

  f'(x) â‰ˆ f(x+1) - f(x)   æˆ–   f'(x) â‰ˆ f(x) - f(x-1)

  ç¤ºä¾‹ï¼š
  åƒç´ å€¼ï¼š  50  50  50  200  200  200
  å·®åˆ†ï¼š       0   0  150   0    0
                      â†‘
                    è¾¹ç¼˜ï¼
```

ä½†å›¾åƒæ˜¯**äºŒç»´**çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦**æ¢¯åº¦ï¼ˆGradientï¼‰**ï¼š

```
äºŒç»´å›¾åƒçš„æ¢¯åº¦ï¼š

  æ¢¯åº¦æ˜¯ä¸€ä¸ªå‘é‡ï¼ŒåŒ…å«ä¸¤ä¸ªåˆ†é‡ï¼š

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                             â”‚
  â”‚              âˆ‚f                             â”‚
  â”‚   Gx = â”€â”€â”€â”€ ï¼ˆæ°´å¹³æ–¹å‘çš„å˜åŒ–ç‡ï¼‰            â”‚
  â”‚              âˆ‚x                             â”‚
  â”‚                                             â”‚
  â”‚              âˆ‚f                             â”‚
  â”‚   Gy = â”€â”€â”€â”€ ï¼ˆå‚ç›´æ–¹å‘çš„å˜åŒ–ç‡ï¼‰            â”‚
  â”‚              âˆ‚y                             â”‚
  â”‚                                             â”‚
  â”‚   æ¢¯åº¦å‘é‡ï¼šâˆ‡f = (Gx, Gy)                   â”‚
  â”‚                                             â”‚
  â”‚   æ¢¯åº¦å¹…å€¼ï¼š|âˆ‡f| = âˆš(GxÂ² + GyÂ²)             â”‚
  â”‚   ï¼ˆè¿‘ä¼¼ï¼‰ï¼š|âˆ‡f| â‰ˆ |Gx| + |Gy|              â”‚
  â”‚                                             â”‚
  â”‚   æ¢¯åº¦æ–¹å‘ï¼šÎ¸ = arctan(Gy / Gx)             â”‚
  â”‚                                             â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  å›¾è§£ï¼š
                    â†‘ yæ–¹å‘
                    â”‚
                    â”‚  â•± æ¢¯åº¦å‘é‡
                    â”‚ â•±
                    â”‚â•± Î¸
         â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â†’ xæ–¹å‘
                    â”‚

  æ¢¯åº¦å¹…å€¼å¤§çš„åœ°æ–¹ = å˜åŒ–å‰§çƒˆçš„åœ°æ–¹ = è¾¹ç¼˜ï¼
```

#### 2.3 å·ç§¯æ ¸å®ç°å¯¼æ•°

åœ¨æ•°å­—å›¾åƒä¸­ï¼Œæˆ‘ä»¬ç”¨**å·ç§¯æ ¸**æ¥è¿‘ä¼¼è®¡ç®—å¯¼æ•°ï¼š

```
æœ€ç®€å•çš„å¯¼æ•°æ ¸ï¼ˆå·®åˆ†æ ¸ï¼‰ï¼š

  æ°´å¹³æ–¹å‘ï¼ˆæ£€æµ‹å‚ç›´è¾¹ç¼˜ï¼‰ï¼š        å‚ç›´æ–¹å‘ï¼ˆæ£€æµ‹æ°´å¹³è¾¹ç¼˜ï¼‰ï¼š

  Gxæ ¸ï¼š                           Gyæ ¸ï¼š
  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
  â”‚ 0  â”‚ 0  â”‚ 0  â”‚                 â”‚ 0  â”‚ -1 â”‚ 0  â”‚
  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤                 â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
  â”‚ -1 â”‚ 0  â”‚ 1  â”‚                 â”‚ 0  â”‚ 0  â”‚ 0  â”‚
  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤                 â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
  â”‚ 0  â”‚ 0  â”‚ 0  â”‚                 â”‚ 0  â”‚ 1  â”‚ 0  â”‚
  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜

  å·¦è¾¹å‡å³è¾¹ = æ°´å¹³å˜åŒ–              ä¸Šè¾¹å‡ä¸‹è¾¹ = å‚ç›´å˜åŒ–

  ä¸ºä»€ä¹ˆè¿™æ ·èƒ½æ£€æµ‹è¾¹ç¼˜ï¼Ÿ

  å‡è®¾å›¾åƒå±€éƒ¨æ˜¯è¿™æ ·ï¼š              åº”ç”¨Gxæ ¸ï¼š
  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
  â”‚ 50 â”‚ 50 â”‚200 â”‚                 Gx = 0Ã—50 + 0Ã—50 + 0Ã—200
  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤                      -1Ã—50 + 0Ã—50 + 1Ã—200
  â”‚ 50 â”‚ 50 â”‚200 â”‚   â†’                  0Ã—50 + 0Ã—50 + 0Ã—200
  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
  â”‚ 50 â”‚ 50 â”‚200 â”‚                    = -50 + 200 = 150ï¼ˆå¤§å€¼ï¼ï¼‰
  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜
     â†‘     â†‘                        è¯´æ˜è¿™é‡Œæœ‰å‚ç›´è¾¹ç¼˜ï¼
    æš—    äº®ï¼ˆæœ‰å‚ç›´è¾¹ç¼˜ï¼‰
```

---

### 3. å¸¸è§çš„è¾¹ç¼˜æ£€æµ‹ç®—å­

#### 3.1 ç®—å­å®¶æ—æ€»è§ˆ

```
è¾¹ç¼˜æ£€æµ‹ç®—å­å®¶æ—ï¼š

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                     è¾¹ç¼˜æ£€æµ‹ç®—å­                             â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                   â”‚                   â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚ä¸€é˜¶å¯¼æ•°  â”‚         â”‚äºŒé˜¶å¯¼æ•°  â”‚        â”‚ç»¼åˆæ–¹æ³•  â”‚
    â”‚ ç®—å­    â”‚         â”‚  ç®—å­   â”‚        â”‚         â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚                   â”‚                   â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”              â”‚              â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚              â”‚              â”‚         â”‚
  Sobel   Scharr        Laplacian         Canny   LoG
   â”‚                                        â”‚
   â””â”€â”€â”€â”€ æœ€å¸¸ç”¨ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ç‰¹ç‚¹å¯¹æ¯”ï¼š
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Sobel   â”‚ ç»å…¸ç®—å­ï¼Œæœ‰å¹³æ»‘æ•ˆæœï¼ŒæŠ—å™ªå£°èƒ½åŠ›å¥½     â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  Scharr  â”‚ Sobelçš„æ”¹è¿›ç‰ˆï¼Œç²¾åº¦æ›´é«˜               â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚Laplacian â”‚ äºŒé˜¶å¯¼æ•°ï¼Œå¯¹å™ªå£°æ•æ„Ÿï¼Œæ£€æµ‹æ‰€æœ‰æ–¹å‘    â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  Canny   â”‚ å¤šé˜¶æ®µç®—æ³•ï¼Œæ•ˆæœæœ€å¥½ï¼Œåº”ç”¨æœ€å¹¿        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.2 å„ç®—å­ç®€ä»‹

##### Sobelç®—å­

```
Sobelç®—å­ï¼š

  æœ€ç»å…¸çš„è¾¹ç¼˜æ£€æµ‹ç®—å­ï¼Œç»“åˆäº†å¹³æ»‘å’Œæ±‚å¯¼

  Gxï¼ˆæ£€æµ‹å‚ç›´è¾¹ç¼˜ï¼‰ï¼š           Gyï¼ˆæ£€æµ‹æ°´å¹³è¾¹ç¼˜ï¼‰ï¼š
  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
  â”‚ -1 â”‚ 0  â”‚ +1 â”‚              â”‚ -1 â”‚ -2 â”‚ -1 â”‚
  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤              â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
  â”‚ -2 â”‚ 0  â”‚ +2 â”‚              â”‚ 0  â”‚ 0  â”‚ 0  â”‚
  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤              â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
  â”‚ -1 â”‚ 0  â”‚ +1 â”‚              â”‚ +1 â”‚ +2 â”‚ +1 â”‚
  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜

  ç‰¹ç‚¹ï¼š
  â€¢ ä¸­é—´æƒé‡ä¸º2ï¼ŒåŠ å¼ºäº†å½“å‰è¡Œ/åˆ—çš„è´¡çŒ®
  â€¢ æœ‰ä¸€å®šçš„å¹³æ»‘æ•ˆæœï¼ŒæŠ—å™ªå£°èƒ½åŠ›å¥½
  â€¢ åˆ†å¼€æ£€æµ‹æ°´å¹³å’Œå‚ç›´æ–¹å‘ï¼Œéœ€è¦åˆå¹¶
```

##### Scharrç®—å­

```
Scharrç®—å­ï¼š

  Sobelçš„æ”¹è¿›ç‰ˆï¼Œæ—‹è½¬å¯¹ç§°æ€§æ›´å¥½

  Gxï¼ˆæ£€æµ‹å‚ç›´è¾¹ç¼˜ï¼‰ï¼š           Gyï¼ˆæ£€æµ‹æ°´å¹³è¾¹ç¼˜ï¼‰ï¼š
  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
  â”‚ -3 â”‚ 0  â”‚ +3 â”‚              â”‚ -3 â”‚-10 â”‚ -3 â”‚
  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤              â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
  â”‚-10 â”‚ 0  â”‚+10 â”‚              â”‚ 0  â”‚ 0  â”‚ 0  â”‚
  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤              â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
  â”‚ -3 â”‚ 0  â”‚ +3 â”‚              â”‚ +3 â”‚+10 â”‚ +3 â”‚
  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜

  ç‰¹ç‚¹ï¼š
  â€¢ æ¯”Sobelæ›´ç²¾ç¡®ï¼Œå°¤å…¶æ˜¯å¯¹è§’æ–¹å‘
  â€¢ é€‚åˆéœ€è¦é«˜ç²¾åº¦çš„åœºåˆ
  â€¢ OpenCVä¸­å¯ä»¥é€šè¿‡ cv2.Sobel() çš„ ksize=-1 ä½¿ç”¨
```

##### Laplacianç®—å­

```
Laplacianç®—å­ï¼š

  äºŒé˜¶å¯¼æ•°ç®—å­ï¼Œæ£€æµ‹æ‰€æœ‰æ–¹å‘çš„è¾¹ç¼˜

  4é‚»åŸŸï¼š                        8é‚»åŸŸï¼š
  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
  â”‚ 0  â”‚ 1  â”‚ 0  â”‚              â”‚ 1  â”‚ 1  â”‚ 1  â”‚
  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤              â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
  â”‚ 1  â”‚ -4 â”‚ 1  â”‚              â”‚ 1  â”‚ -8 â”‚ 1  â”‚
  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤              â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
  â”‚ 0  â”‚ 1  â”‚ 0  â”‚              â”‚ 1  â”‚ 1  â”‚ 1  â”‚
  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜

  ç‰¹ç‚¹ï¼š
  â€¢ ä¸€æ¬¡è¿ç®—æ£€æµ‹æ‰€æœ‰æ–¹å‘çš„è¾¹ç¼˜
  â€¢ å¯¹å™ªå£°éå¸¸æ•æ„Ÿï¼Œé€šå¸¸éœ€è¦å…ˆå¹³æ»‘
  â€¢ å¯èƒ½äº§ç”Ÿ"åŒè¾¹ç¼˜"æ•ˆåº”
```

##### Cannyç®—å­

```
Cannyè¾¹ç¼˜æ£€æµ‹ï¼š

  ä¸æ˜¯ç®€å•çš„å·ç§¯æ ¸ï¼Œè€Œæ˜¯ä¸€å¥—å®Œæ•´çš„å¤šé˜¶æ®µç®—æ³•

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  1. é«˜æ–¯å¹³æ»‘ â†’ 2. æ¢¯åº¦è®¡ç®— â†’ 3. éæå¤§å€¼æŠ‘åˆ¶ â†’         â”‚
  â”‚                                                        â”‚
  â”‚  4. åŒé˜ˆå€¼æ£€æµ‹ â†’ 5. è¾¹ç¼˜è¿æ¥                            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ç‰¹ç‚¹ï¼š
  â€¢ è¾¹ç¼˜ç»†ã€è¿ç»­ã€å®šä½å‡†ç¡®
  â€¢ æœ‰æŠ‘åˆ¶å‡è¾¹ç¼˜çš„èƒ½åŠ›
  â€¢ å…¬è®¤æ•ˆæœæœ€å¥½çš„è¾¹ç¼˜æ£€æµ‹ç®—æ³•
  â€¢ ä½†è®¡ç®—é‡ç›¸å¯¹è¾ƒå¤§
```

---

### 4. è¾¹ç¼˜æ£€æµ‹çš„ä¸€èˆ¬æµç¨‹

#### 4.1 æ ‡å‡†å¤„ç†æµç¨‹

```
è¾¹ç¼˜æ£€æµ‹çš„æ ‡å‡†æµç¨‹ï¼š

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  åŸå§‹å›¾åƒ   â”‚ â†’  â”‚  ç°åº¦è½¬æ¢   â”‚ â†’  â”‚  é™å™ªå¤„ç†   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚
  â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  è¾¹ç¼˜æ£€æµ‹   â”‚ â†’  â”‚  åå¤„ç†    â”‚ â†’  â”‚  ç»“æœè¾“å‡º   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  å„æ­¥éª¤è¯´æ˜ï¼š

  1. ç°åº¦è½¬æ¢ï¼šè¾¹ç¼˜æ£€æµ‹é€šå¸¸åœ¨ç°åº¦å›¾ä¸Šè¿›è¡Œ
     â””â†’ cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)

  2. é™å™ªå¤„ç†ï¼šå‡å°‘å™ªå£°å¯¹è¾¹ç¼˜æ£€æµ‹çš„å¹²æ‰°
     â””â†’ é«˜æ–¯æ¨¡ç³Š cv2.GaussianBlur()
     â””â†’ ä¸­å€¼æ»¤æ³¢ cv2.medianBlur()

  3. è¾¹ç¼˜æ£€æµ‹ï¼šä½¿ç”¨ç®—å­æ£€æµ‹è¾¹ç¼˜
     â””â†’ cv2.Sobel(), cv2.Scharr(), cv2.Laplacian(), cv2.Canny()

  4. åå¤„ç†ï¼šä¼˜åŒ–è¾¹ç¼˜ç»“æœ
     â””â†’ äºŒå€¼åŒ–ã€å½¢æ€å­¦æ“ä½œç­‰
```

#### 4.2 ä¸ºä»€ä¹ˆè¦å…ˆé™å™ªï¼Ÿ

```
å™ªå£°å¯¹è¾¹ç¼˜æ£€æµ‹çš„å½±å“ï¼š

  ç†æƒ³æƒ…å†µï¼ˆæ— å™ªå£°ï¼‰ï¼š

  ç°åº¦å€¼                          ä¸€é˜¶å¯¼æ•°
    â”‚   â”Œâ”€â”€â”€â”€                       â”‚
    â”‚   â”‚                           â”‚     â”‚
    â”‚   â”‚                           â”‚     â”‚
    â”‚â”€â”€â”€â”˜                           â”‚â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€
    â””â”€â”€â”€â”€â”€â”€â†’                        â””â”€â”€â”€â”€â”€â”€â†’
                                        â†‘
                                    æ¸…æ™°çš„å•å³°
                                   ï¼ˆä¸€ä¸ªè¾¹ç¼˜ï¼‰

  å®é™…æƒ…å†µï¼ˆæœ‰å™ªå£°ï¼‰ï¼š

  ç°åº¦å€¼                          ä¸€é˜¶å¯¼æ•°
    â”‚   â”Œâ•±â•²â”€                        â”‚
    â”‚  â•±â”‚ â•²                         â”‚  âˆ§ âˆ§âˆ§
    â”‚ â•± â”‚  â•²                        â”‚ âˆ§â”‚âˆ§â”‚â”‚âˆ§
    â”‚â”€â•±â”€â”˜   â•²                       â”‚â”€â”´â”´â”´â”´â”´â”€â”€â”€
    â””â”€â”€â”€â”€â”€â”€â†’                        â””â”€â”€â”€â”€â”€â”€â†’
                                       â†‘â†‘â†‘â†‘â†‘
                                    å¾ˆå¤šå‡è¾¹ç¼˜ï¼
                                   ï¼ˆå™ªå£°è¢«æ”¾å¤§ï¼‰

  è§£å†³æ–¹æ¡ˆï¼šå…ˆç”¨ä½é€šæ»¤æ³¢å™¨ï¼ˆå¦‚é«˜æ–¯æ»¤æ³¢ï¼‰å¹³æ»‘å›¾åƒ

  æ»¤æ³¢åï¼š

  ç°åº¦å€¼                          ä¸€é˜¶å¯¼æ•°
    â”‚   â•±â”€â”€â”€â”€                       â”‚
    â”‚  â•±                            â”‚     â”‚
    â”‚ â•±                             â”‚     â”‚
    â”‚â•±                              â”‚â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€
    â””â”€â”€â”€â”€â”€â”€â†’                        â””â”€â”€â”€â”€â”€â”€â†’
                                        â†‘
                                   å™ªå£°è¢«æŠ‘åˆ¶
                                  åªä¿ç•™çœŸæ­£çš„è¾¹ç¼˜
```

---

### 5. è¾¹ç¼˜æ£€æµ‹çš„åº”ç”¨åœºæ™¯

```
è¾¹ç¼˜æ£€æµ‹çš„å®é™…åº”ç”¨ï¼š

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                          â”‚
  â”‚  ğŸš— è‡ªåŠ¨é©¾é©¶                                              â”‚
  â”‚     â€¢ è½¦é“çº¿æ£€æµ‹                                          â”‚
  â”‚     â€¢ äº¤é€šæ ‡å¿—è¯†åˆ«                                        â”‚
  â”‚     â€¢ éšœç¢ç‰©è½®å»“æå–                                      â”‚
  â”‚                                                          â”‚
  â”‚  ğŸ­ å·¥ä¸šæ£€æµ‹                                              â”‚
  â”‚     â€¢ äº§å“ç¼ºé™·æ£€æµ‹                                        â”‚
  â”‚     â€¢ å°ºå¯¸æµ‹é‡                                            â”‚
  â”‚     â€¢ é›¶ä»¶å®šä½                                            â”‚
  â”‚                                                          â”‚
  â”‚  ğŸ“± å›¾åƒå¤„ç†APP                                           â”‚
  â”‚     â€¢ å¡é€šæ•ˆæœ                                            â”‚
  â”‚     â€¢ ç´ ææ•ˆæœ                                            â”‚
  â”‚     â€¢ è‰ºæœ¯æ»¤é•œ                                            â”‚
  â”‚                                                          â”‚
  â”‚  ğŸ”¬ åŒ»å­¦å½±åƒ                                              â”‚
  â”‚     â€¢ CT/MRIå›¾åƒåˆ†å‰²                                      â”‚
  â”‚     â€¢ ç»†èƒè¾¹ç•Œæ£€æµ‹                                        â”‚
  â”‚     â€¢ å™¨å®˜è½®å»“æå–                                        â”‚
  â”‚                                                          â”‚
  â”‚  ğŸ“„ æ–‡æ¡£å¤„ç†                                              â”‚
  â”‚     â€¢ æ–‡å­—åŒºåŸŸæ£€æµ‹                                        â”‚
  â”‚     â€¢ è¡¨æ ¼çº¿æå–                                          â”‚
  â”‚     â€¢ äºŒç»´ç å®šä½                                          â”‚
  â”‚                                                          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’» ä»£ç å®æˆ˜

### ä»£ç 1ï¼šç†è§£å›¾åƒæ¢¯åº¦çš„æ¦‚å¿µ

```python
"""
ç†è§£å›¾åƒæ¢¯åº¦çš„æ¦‚å¿µ
é€šè¿‡ç®€å•ä¾‹å­å±•ç¤ºæ¢¯åº¦ä¸è¾¹ç¼˜çš„å…³ç³»
"""

import cv2
import numpy as np
import matplotlib.pyplot as plt

# è®¾ç½®ä¸­æ–‡å­—ä½“
plt.rcParams['font.sans-serif'] = ['SimHei', 'Microsoft YaHei']
plt.rcParams['axes.unicode_minus'] = False

# ===================== åˆ›å»ºç®€å•çš„æµ‹è¯•å›¾åƒ =====================

# åˆ›å»ºä¸€ä¸ªæœ‰æ˜æ˜¾è¾¹ç¼˜çš„å›¾åƒï¼ˆå·¦è¾¹æš—ï¼Œå³è¾¹äº®ï¼‰
test_img = np.zeros((100, 200), dtype=np.uint8)
test_img[:, 100:] = 200  # å³åŠéƒ¨åˆ†è®¾ä¸ºäº®

print("æµ‹è¯•å›¾åƒä¿¡æ¯ï¼š")
print(f"  å°ºå¯¸: {test_img.shape}")
print(f"  å·¦åŠéƒ¨åˆ†åƒç´ å€¼: {test_img[50, 50]}")
print(f"  å³åŠéƒ¨åˆ†åƒç´ å€¼: {test_img[50, 150]}")

# ===================== æ‰‹åŠ¨è®¡ç®—æ¢¯åº¦ =====================

# å–ä¸­é—´ä¸€è¡Œæ¥åˆ†æ
row = test_img[50, :]

# è®¡ç®—ä¸€é˜¶å·®åˆ†ï¼ˆè¿‘ä¼¼å¯¼æ•°ï¼‰
gradient = np.diff(row.astype(np.float64))

print(f"\næ¢¯åº¦åˆ†æï¼ˆç¬¬50è¡Œï¼‰ï¼š")
print(f"  æœ€å¤§æ¢¯åº¦å€¼: {np.max(gradient)}")
print(f"  æœ€å¤§æ¢¯åº¦ä½ç½®: {np.argmax(gradient)}")
print(f"  è¿™å°±æ˜¯è¾¹ç¼˜çš„ä½ç½®ï¼")

# ===================== å¯è§†åŒ– =====================

fig, axes = plt.subplots(2, 2, figsize=(12, 8))

# åŸå§‹å›¾åƒ
axes[0, 0].imshow(test_img, cmap='gray')
axes[0, 0].axhline(y=50, color='r', linestyle='--', label='åˆ†æçš„è¡Œ')
axes[0, 0].set_title('åŸå§‹å›¾åƒ', fontsize=12)
axes[0, 0].legend()

# ç°åº¦å€¼åˆ†å¸ƒ
axes[0, 1].plot(row, 'b-', linewidth=2)
axes[0, 1].axvline(x=100, color='r', linestyle='--', label='è¾¹ç¼˜ä½ç½®')
axes[0, 1].set_xlabel('åƒç´ ä½ç½®')
axes[0, 1].set_ylabel('ç°åº¦å€¼')
axes[0, 1].set_title('ç¬¬50è¡Œçš„ç°åº¦å€¼åˆ†å¸ƒ', fontsize=12)
axes[0, 1].legend()
axes[0, 1].grid(True, alpha=0.3)

# æ¢¯åº¦åˆ†å¸ƒ
axes[1, 0].plot(gradient, 'g-', linewidth=2)
axes[1, 0].axvline(x=99, color='r', linestyle='--', label='æ¢¯åº¦å³°å€¼')
axes[1, 0].set_xlabel('åƒç´ ä½ç½®')
axes[1, 0].set_ylabel('æ¢¯åº¦å€¼')
axes[1, 0].set_title('æ¢¯åº¦ï¼ˆä¸€é˜¶å·®åˆ†ï¼‰', fontsize=12)
axes[1, 0].legend()
axes[1, 0].grid(True, alpha=0.3)

# è¯´æ˜æ–‡å­—
axes[1, 1].axis('off')
explanation = """
æ¢¯åº¦ä¸è¾¹ç¼˜çš„å…³ç³»ï¼š

1. åŸå§‹å›¾åƒä¸­ï¼Œå·¦è¾¹æš—ï¼ˆ0ï¼‰ï¼Œå³è¾¹äº®ï¼ˆ200ï¼‰

2. ç°åº¦å€¼åœ¨ x=100 å¤„çªç„¶å˜åŒ–

3. æ¢¯åº¦ï¼ˆå¯¼æ•°ï¼‰åœ¨å˜åŒ–å¤„å‡ºç°å³°å€¼

4. å³°å€¼ä½ç½® = è¾¹ç¼˜ä½ç½®ï¼

ç»“è®ºï¼š
è¾¹ç¼˜æ£€æµ‹ = æ‰¾æ¢¯åº¦å¤§çš„åœ°æ–¹
"""
axes[1, 1].text(0.1, 0.5, explanation, fontsize=12,
                verticalalignment='center', fontfamily='SimHei')

plt.tight_layout()
plt.savefig('gradient_concept.png', dpi=150, bbox_inches='tight')
plt.show()

print("\nå›¾åƒå·²ä¿å­˜ä¸º 'gradient_concept.png'")
```

---

### ä»£ç 2ï¼šç®€å•çš„å·®åˆ†è¾¹ç¼˜æ£€æµ‹

```python
"""
ä½¿ç”¨ç®€å•çš„å·®åˆ†æ ¸è¿›è¡Œè¾¹ç¼˜æ£€æµ‹
ç†è§£æœ€åŸºç¡€çš„è¾¹ç¼˜æ£€æµ‹åŸç†
"""

import cv2
import numpy as np
import matplotlib.pyplot as plt

plt.rcParams['font.sans-serif'] = ['SimHei', 'Microsoft YaHei']
plt.rcParams['axes.unicode_minus'] = False

# ===================== è¯»å–å›¾åƒ =====================

# åˆ›å»ºæµ‹è¯•å›¾åƒï¼ˆæˆ–è¯»å–è‡ªå·±çš„å›¾åƒï¼‰
def create_test_image():
    """åˆ›å»ºä¸€ä¸ªåŒ…å«å„ç§è¾¹ç¼˜çš„æµ‹è¯•å›¾åƒ"""
    img = np.zeros((300, 400), dtype=np.uint8)
    img[:] = 50  # ç°è‰²èƒŒæ™¯

    # ç™½è‰²çŸ©å½¢
    cv2.rectangle(img, (50, 50), (150, 150), 200, -1)

    # ç™½è‰²åœ†å½¢
    cv2.circle(img, (280, 100), 50, 200, -1)

    # å€¾æ–œçš„çº¿æ¡
    cv2.line(img, (50, 200), (200, 280), 200, 5)

    # æ¸å˜åŒºåŸŸ
    for i in range(100):
        img[200:280, 250+i] = 50 + i * 1.5

    return img

# ä½¿ç”¨æµ‹è¯•å›¾åƒ
img = create_test_image()

# å¦‚æœæƒ³ç”¨è‡ªå·±çš„å›¾åƒï¼Œå–æ¶ˆä¸‹é¢çš„æ³¨é‡Šï¼š
# img = cv2.imread('your_image.jpg', cv2.IMREAD_GRAYSCALE)

print(f"å›¾åƒå°ºå¯¸: {img.shape}")

# ===================== å®šä¹‰å·®åˆ†æ ¸ =====================

# æ°´å¹³æ–¹å‘å·®åˆ†æ ¸ï¼ˆæ£€æµ‹å‚ç›´è¾¹ç¼˜ï¼‰
kernel_x = np.array([[-1, 0, 1],
                     [-1, 0, 1],
                     [-1, 0, 1]], dtype=np.float64)

# å‚ç›´æ–¹å‘å·®åˆ†æ ¸ï¼ˆæ£€æµ‹æ°´å¹³è¾¹ç¼˜ï¼‰
kernel_y = np.array([[-1, -1, -1],
                     [ 0,  0,  0],
                     [ 1,  1,  1]], dtype=np.float64)

print("\næ°´å¹³å·®åˆ†æ ¸ï¼ˆæ£€æµ‹å‚ç›´è¾¹ç¼˜ï¼‰:")
print(kernel_x)
print("\nå‚ç›´å·®åˆ†æ ¸ï¼ˆæ£€æµ‹æ°´å¹³è¾¹ç¼˜ï¼‰:")
print(kernel_y)

# ===================== åº”ç”¨å·ç§¯ =====================

# ä½¿ç”¨ filter2D è¿›è¡Œå·ç§¯
gradient_x = cv2.filter2D(img, cv2.CV_64F, kernel_x)
gradient_y = cv2.filter2D(img, cv2.CV_64F, kernel_y)

# è®¡ç®—æ¢¯åº¦å¹…å€¼
gradient_magnitude = np.sqrt(gradient_x**2 + gradient_y**2)

# å½’ä¸€åŒ–åˆ° 0-255 èŒƒå›´
gradient_magnitude = np.clip(gradient_magnitude, 0, 255).astype(np.uint8)

# å–ç»å¯¹å€¼å¹¶è½¬æ¢ç±»å‹
gradient_x_abs = np.abs(gradient_x).astype(np.uint8)
gradient_y_abs = np.abs(gradient_y).astype(np.uint8)

# ===================== å¯è§†åŒ– =====================

fig, axes = plt.subplots(2, 3, figsize=(15, 10))

# åŸå›¾
axes[0, 0].imshow(img, cmap='gray')
axes[0, 0].set_title('åŸå§‹å›¾åƒ', fontsize=12)
axes[0, 0].axis('off')

# æ°´å¹³æ¢¯åº¦
axes[0, 1].imshow(gradient_x_abs, cmap='gray')
axes[0, 1].set_title('æ°´å¹³æ¢¯åº¦ Gx\nï¼ˆæ£€æµ‹å‚ç›´è¾¹ç¼˜ï¼‰', fontsize=12)
axes[0, 1].axis('off')

# å‚ç›´æ¢¯åº¦
axes[0, 2].imshow(gradient_y_abs, cmap='gray')
axes[0, 2].set_title('å‚ç›´æ¢¯åº¦ Gy\nï¼ˆæ£€æµ‹æ°´å¹³è¾¹ç¼˜ï¼‰', fontsize=12)
axes[0, 2].axis('off')

# æ¢¯åº¦å¹…å€¼
axes[1, 0].imshow(gradient_magnitude, cmap='gray')
axes[1, 0].set_title('æ¢¯åº¦å¹…å€¼ |âˆ‡f|\nï¼ˆæ‰€æœ‰æ–¹å‘çš„è¾¹ç¼˜ï¼‰', fontsize=12)
axes[1, 0].axis('off')

# å¸¦é¢œè‰²çš„æ¢¯åº¦æ–¹å‘
axes[1, 1].imshow(gradient_x, cmap='RdBu')
axes[1, 1].set_title('æ°´å¹³æ¢¯åº¦ï¼ˆå¸¦æ­£è´Ÿï¼‰\nçº¢=æ­£ï¼Œè“=è´Ÿ', fontsize=12)
axes[1, 1].axis('off')

axes[1, 2].imshow(gradient_y, cmap='RdBu')
axes[1, 2].set_title('å‚ç›´æ¢¯åº¦ï¼ˆå¸¦æ­£è´Ÿï¼‰\nçº¢=æ­£ï¼Œè“=è´Ÿ', fontsize=12)
axes[1, 2].axis('off')

plt.suptitle('ç®€å•å·®åˆ†è¾¹ç¼˜æ£€æµ‹', fontsize=14, fontweight='bold')
plt.tight_layout()
plt.savefig('simple_edge_detection.png', dpi=150, bbox_inches='tight')
plt.show()

print("\næ£€æµ‹ç»“æœå·²ä¿å­˜ä¸º 'simple_edge_detection.png'")
```

---

### ä»£ç 3ï¼šè¾¹ç¼˜æ£€æµ‹ç®—å­å¯¹æ¯”

```python
"""
å¯¹æ¯”ä¸åŒè¾¹ç¼˜æ£€æµ‹ç®—å­çš„æ•ˆæœ
Sobel vs Scharr vs Laplacian vs Canny
"""

import cv2
import numpy as np
import matplotlib.pyplot as plt

plt.rcParams['font.sans-serif'] = ['SimHei', 'Microsoft YaHei']
plt.rcParams['axes.unicode_minus'] = False

# ===================== è¯»å–å›¾åƒ =====================

# åˆ›å»ºæµ‹è¯•å›¾åƒ
def create_test_image():
    """åˆ›å»ºç”¨äºè¾¹ç¼˜æ£€æµ‹æµ‹è¯•çš„å›¾åƒ"""
    img = np.zeros((300, 400), dtype=np.uint8)

    # ç»˜åˆ¶å„ç§å½¢çŠ¶
    cv2.rectangle(img, (30, 30), (120, 120), 180, -1)
    cv2.circle(img, (200, 80), 50, 220, -1)
    cv2.ellipse(img, (330, 80), (40, 30), 0, 0, 360, 200, -1)

    # ä¸‰è§’å½¢
    pts = np.array([[80, 180], [30, 280], [130, 280]], np.int32)
    cv2.fillPoly(img, [pts], 160)

    # æ·»åŠ ä¸€äº›çº¹ç†
    for i in range(200, 380, 15):
        cv2.line(img, (i, 160), (i, 290), 100, 1)

    return img

img = create_test_image()

# å¦‚æœæƒ³ç”¨çœŸå®å›¾åƒï¼Œå–æ¶ˆä¸‹é¢çš„æ³¨é‡Šï¼š
# img = cv2.imread('your_image.jpg', cv2.IMREAD_GRAYSCALE)

# å…ˆè¿›è¡Œé«˜æ–¯æ¨¡ç³Šé™å™ª
img_blur = cv2.GaussianBlur(img, (3, 3), 0)

print(f"å›¾åƒå°ºå¯¸: {img.shape}")

# ===================== åº”ç”¨å„ç§è¾¹ç¼˜æ£€æµ‹ç®—å­ =====================

# 1. Sobel ç®—å­
sobel_x = cv2.Sobel(img_blur, cv2.CV_64F, 1, 0, ksize=3)
sobel_y = cv2.Sobel(img_blur, cv2.CV_64F, 0, 1, ksize=3)
sobel = np.sqrt(sobel_x**2 + sobel_y**2)
sobel = np.clip(sobel, 0, 255).astype(np.uint8)

# 2. Scharr ç®—å­ï¼ˆSobelçš„ksize=-1æ—¶ä½¿ç”¨Scharrï¼‰
scharr_x = cv2.Sobel(img_blur, cv2.CV_64F, 1, 0, ksize=-1)
scharr_y = cv2.Sobel(img_blur, cv2.CV_64F, 0, 1, ksize=-1)
scharr = np.sqrt(scharr_x**2 + scharr_y**2)
scharr = np.clip(scharr, 0, 255).astype(np.uint8)

# ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸“é—¨çš„ Scharr å‡½æ•°ï¼š
# scharr_x = cv2.Scharr(img_blur, cv2.CV_64F, 1, 0)
# scharr_y = cv2.Scharr(img_blur, cv2.CV_64F, 0, 1)

# 3. Laplacian ç®—å­
laplacian = cv2.Laplacian(img_blur, cv2.CV_64F, ksize=3)
laplacian = np.abs(laplacian)
laplacian = np.clip(laplacian, 0, 255).astype(np.uint8)

# 4. Canny è¾¹ç¼˜æ£€æµ‹
canny = cv2.Canny(img_blur, 50, 150)

# ===================== å¯è§†åŒ–å¯¹æ¯” =====================

fig, axes = plt.subplots(2, 3, figsize=(15, 10))

# åŸå›¾
axes[0, 0].imshow(img, cmap='gray')
axes[0, 0].set_title('åŸå§‹å›¾åƒ', fontsize=12)
axes[0, 0].axis('off')

# Sobel
axes[0, 1].imshow(sobel, cmap='gray')
axes[0, 1].set_title('Sobel ç®—å­\n(ä¸€é˜¶å¯¼æ•°ï¼Œæœ‰å¹³æ»‘)', fontsize=12)
axes[0, 1].axis('off')

# Scharr
axes[0, 2].imshow(scharr, cmap='gray')
axes[0, 2].set_title('Scharr ç®—å­\n(Sobelæ”¹è¿›ç‰ˆï¼Œæ›´ç²¾ç¡®)', fontsize=12)
axes[0, 2].axis('off')

# Laplacian
axes[1, 0].imshow(laplacian, cmap='gray')
axes[1, 0].set_title('Laplacian ç®—å­\n(äºŒé˜¶å¯¼æ•°ï¼Œå„å‘åŒæ€§)', fontsize=12)
axes[1, 0].axis('off')

# Canny
axes[1, 1].imshow(canny, cmap='gray')
axes[1, 1].set_title('Canny è¾¹ç¼˜æ£€æµ‹\n(å¤šé˜¶æ®µç®—æ³•ï¼Œæ•ˆæœæœ€å¥½)', fontsize=12)
axes[1, 1].axis('off')

# è¯´æ˜
axes[1, 2].axis('off')
info_text = """
ç®—å­ç‰¹ç‚¹æ€»ç»“ï¼š

Sobel:
â€¢ ä¸€é˜¶å¯¼æ•°ç®—å­
â€¢ åŒ…å«å¹³æ»‘ï¼ŒæŠ—å™ªå£°
â€¢ éœ€è¦åˆ†åˆ«è®¡ç®—xå’Œyæ–¹å‘

Scharr:
â€¢ Sobelçš„æ”¹è¿›ç‰ˆ
â€¢ æ—‹è½¬å¯¹ç§°æ€§æ›´å¥½
â€¢ ç²¾åº¦æ›´é«˜

Laplacian:
â€¢ äºŒé˜¶å¯¼æ•°ç®—å­
â€¢ ä¸€æ¬¡æ£€æµ‹æ‰€æœ‰æ–¹å‘
â€¢ å¯¹å™ªå£°æ•æ„Ÿ

Canny:
â€¢ å¤šé˜¶æ®µç»¼åˆç®—æ³•
â€¢ è¾¹ç¼˜ç»†ã€è¿ç»­
â€¢ å…¬è®¤æ•ˆæœæœ€å¥½
"""
axes[1, 2].text(0.1, 0.5, info_text, fontsize=11,
                verticalalignment='center', fontfamily='SimHei',
                bbox=dict(boxstyle='round', facecolor='wheat', alpha=0.5))

plt.suptitle('è¾¹ç¼˜æ£€æµ‹ç®—å­å¯¹æ¯”', fontsize=14, fontweight='bold')
plt.tight_layout()
plt.savefig('edge_operators_comparison.png', dpi=150, bbox_inches='tight')
plt.show()

print("\nå¯¹æ¯”å›¾å·²ä¿å­˜ä¸º 'edge_operators_comparison.png'")
```

---

### ä»£ç 4ï¼šå™ªå£°å¯¹è¾¹ç¼˜æ£€æµ‹çš„å½±å“

```python
"""
å±•ç¤ºå™ªå£°å¯¹è¾¹ç¼˜æ£€æµ‹çš„å½±å“
ä»¥åŠé¢„å¤„ç†ï¼ˆé™å™ªï¼‰çš„é‡è¦æ€§
"""

import cv2
import numpy as np
import matplotlib.pyplot as plt

plt.rcParams['font.sans-serif'] = ['SimHei', 'Microsoft YaHei']
plt.rcParams['axes.unicode_minus'] = False

# ===================== åˆ›å»ºæµ‹è¯•å›¾åƒ =====================

def create_clean_image():
    """åˆ›å»ºå¹²å‡€çš„æµ‹è¯•å›¾åƒ"""
    img = np.zeros((200, 300), dtype=np.uint8)
    img[:] = 50
    cv2.rectangle(img, (50, 50), (150, 150), 200, -1)
    cv2.circle(img, (220, 100), 40, 180, -1)
    return img

def add_noise(img, noise_level=25):
    """æ·»åŠ é«˜æ–¯å™ªå£°"""
    noise = np.random.normal(0, noise_level, img.shape).astype(np.float64)
    noisy = img.astype(np.float64) + noise
    noisy = np.clip(noisy, 0, 255).astype(np.uint8)
    return noisy

# åˆ›å»ºå›¾åƒ
clean_img = create_clean_image()
noisy_img = add_noise(clean_img, noise_level=30)

print("å›¾åƒä¿¡æ¯ï¼š")
print(f"  å¹²å‡€å›¾åƒå™ªå£°çº§åˆ«: 0")
print(f"  å™ªå£°å›¾åƒæ·»åŠ çš„å™ªå£°æ ‡å‡†å·®: 30")

# ===================== è¾¹ç¼˜æ£€æµ‹ï¼ˆæ— é™å™ªï¼‰ =====================

# å¯¹å¹²å‡€å›¾åƒè¿›è¡Œè¾¹ç¼˜æ£€æµ‹
canny_clean = cv2.Canny(clean_img, 50, 150)

# å¯¹å™ªå£°å›¾åƒç›´æ¥è¿›è¡Œè¾¹ç¼˜æ£€æµ‹ï¼ˆä¸é™å™ªï¼‰
canny_noisy_direct = cv2.Canny(noisy_img, 50, 150)

# ===================== è¾¹ç¼˜æ£€æµ‹ï¼ˆæœ‰é™å™ªï¼‰ =====================

# ä½¿ç”¨ä¸åŒçš„é™å™ªæ–¹æ³•
blur_gaussian = cv2.GaussianBlur(noisy_img, (5, 5), 0)
blur_median = cv2.medianBlur(noisy_img, 5)
blur_bilateral = cv2.bilateralFilter(noisy_img, 9, 75, 75)

# é™å™ªåå†è¿›è¡Œè¾¹ç¼˜æ£€æµ‹
canny_gaussian = cv2.Canny(blur_gaussian, 50, 150)
canny_median = cv2.Canny(blur_median, 50, 150)
canny_bilateral = cv2.Canny(blur_bilateral, 50, 150)

# ===================== å¯è§†åŒ– =====================

fig, axes = plt.subplots(3, 4, figsize=(16, 12))

# ç¬¬ä¸€è¡Œï¼šåŸå›¾
axes[0, 0].imshow(clean_img, cmap='gray')
axes[0, 0].set_title('å¹²å‡€å›¾åƒ', fontsize=11)
axes[0, 0].axis('off')

axes[0, 1].imshow(canny_clean, cmap='gray')
axes[0, 1].set_title('å¹²å‡€å›¾åƒçš„Cannyç»“æœ\nï¼ˆç†æƒ³æ•ˆæœï¼‰', fontsize=11)
axes[0, 1].axis('off')

axes[0, 2].imshow(noisy_img, cmap='gray')
axes[0, 2].set_title('æ·»åŠ å™ªå£°å', fontsize=11)
axes[0, 2].axis('off')

axes[0, 3].imshow(canny_noisy_direct, cmap='gray')
axes[0, 3].set_title('ç›´æ¥Cannyï¼ˆä¸é™å™ªï¼‰\nï¼ˆå¾ˆå¤šå‡è¾¹ç¼˜ï¼ï¼‰', fontsize=11)
axes[0, 3].axis('off')

# ç¬¬äºŒè¡Œï¼šä¸åŒé™å™ªæ–¹æ³•
axes[1, 0].imshow(blur_gaussian, cmap='gray')
axes[1, 0].set_title('é«˜æ–¯æ»¤æ³¢é™å™ª', fontsize=11)
axes[1, 0].axis('off')

axes[1, 1].imshow(canny_gaussian, cmap='gray')
axes[1, 1].set_title('é«˜æ–¯æ»¤æ³¢åCanny', fontsize=11)
axes[1, 1].axis('off')

axes[1, 2].imshow(blur_median, cmap='gray')
axes[1, 2].set_title('ä¸­å€¼æ»¤æ³¢é™å™ª', fontsize=11)
axes[1, 2].axis('off')

axes[1, 3].imshow(canny_median, cmap='gray')
axes[1, 3].set_title('ä¸­å€¼æ»¤æ³¢åCanny', fontsize=11)
axes[1, 3].axis('off')

# ç¬¬ä¸‰è¡Œï¼šåŒè¾¹æ»¤æ³¢å’Œæ€»ç»“
axes[2, 0].imshow(blur_bilateral, cmap='gray')
axes[2, 0].set_title('åŒè¾¹æ»¤æ³¢é™å™ª\nï¼ˆä¿è¾¹æ•ˆæœå¥½ï¼‰', fontsize=11)
axes[2, 0].axis('off')

axes[2, 1].imshow(canny_bilateral, cmap='gray')
axes[2, 1].set_title('åŒè¾¹æ»¤æ³¢åCanny\nï¼ˆè¾¹ç¼˜æ¸…æ™°ï¼‰', fontsize=11)
axes[2, 1].axis('off')

# æ·»åŠ è¯´æ˜
axes[2, 2].axis('off')
axes[2, 3].axis('off')

summary_text = """
é™å™ªçš„é‡è¦æ€§ï¼š

å™ªå£°ä¼šäº§ç”Ÿå¤§é‡å‡è¾¹ç¼˜ï¼Œå› ä¸ºï¼š
â€¢ å™ªå£°ç‚¹å¤„ç°åº¦å˜åŒ–å‰§çƒˆ
â€¢ æ¢¯åº¦ç®—å­ä¼šæŠŠå™ªå£°å½“æˆè¾¹ç¼˜

è§£å†³æ–¹æ¡ˆï¼šå…ˆé™å™ªï¼Œå†æ£€æµ‹è¾¹ç¼˜

ä¸åŒæ»¤æ³¢å™¨çš„æ•ˆæœï¼š
â€¢ é«˜æ–¯æ»¤æ³¢ï¼šé€šç”¨ï¼Œå¯èƒ½æ¨¡ç³Šè¾¹ç¼˜
â€¢ ä¸­å€¼æ»¤æ³¢ï¼šå¯¹æ¤’ç›å™ªå£°æ•ˆæœå¥½
â€¢ åŒè¾¹æ»¤æ³¢ï¼šä¿ç•™è¾¹ç¼˜ï¼Œæ•ˆæœæœ€å¥½

å»ºè®®ï¼š
å¯¹äºè¾¹ç¼˜æ£€æµ‹ï¼Œä¼˜å…ˆä½¿ç”¨åŒè¾¹æ»¤æ³¢ï¼
"""
axes[2, 2].text(0, 0.5, summary_text, fontsize=10,
                verticalalignment='center', fontfamily='SimHei',
                bbox=dict(boxstyle='round', facecolor='lightblue', alpha=0.5))

plt.suptitle('å™ªå£°å¯¹è¾¹ç¼˜æ£€æµ‹çš„å½±å“', fontsize=14, fontweight='bold')
plt.tight_layout()
plt.savefig('noise_effect_on_edge.png', dpi=150, bbox_inches='tight')
plt.show()

print("\nå¯¹æ¯”å›¾å·²ä¿å­˜ä¸º 'noise_effect_on_edge.png'")
```

---

### ä»£ç 5ï¼šè¾¹ç¼˜æ£€æµ‹å®é™…åº”ç”¨ç¤ºä¾‹

```python
"""
è¾¹ç¼˜æ£€æµ‹çš„å®é™…åº”ç”¨ç¤ºä¾‹
åŒ…æ‹¬ï¼šç‰©ä½“è½®å»“æå–ã€è‰ºæœ¯æ•ˆæœã€æ–‡æ¡£å¤„ç†
"""

import cv2
import numpy as np
import matplotlib.pyplot as plt

plt.rcParams['font.sans-serif'] = ['SimHei', 'Microsoft YaHei']
plt.rcParams['axes.unicode_minus'] = False

# ===================== åˆ›å»ºæ¨¡æ‹Ÿåœºæ™¯å›¾åƒ =====================

def create_scene_image():
    """åˆ›å»ºä¸€ä¸ªæ¨¡æ‹Ÿçš„åœºæ™¯å›¾åƒ"""
    img = np.zeros((400, 500, 3), dtype=np.uint8)

    # å¤©ç©ºæ¸å˜èƒŒæ™¯
    for y in range(200):
        img[y, :] = [180 - y//3, 200 - y//4, 230 - y//5]

    # åœ°é¢
    img[200:, :] = [50, 120, 50]

    # å¤ªé˜³
    cv2.circle(img, (400, 60), 40, (0, 200, 255), -1)

    # æˆ¿å­
    cv2.rectangle(img, (100, 180), (250, 350), (80, 80, 150), -1)  # å¢™
    pts = np.array([[100, 180], [175, 100], [250, 180]], np.int32)
    cv2.fillPoly(img, [pts], (50, 50, 120))  # å±‹é¡¶
    cv2.rectangle(img, (140, 250), (210, 350), (50, 100, 150), -1)  # é—¨
    cv2.rectangle(img, (120, 200), (155, 235), (200, 200, 100), -1)  # çª—æˆ·
    cv2.rectangle(img, (195, 200), (230, 235), (200, 200, 100), -1)  # çª—æˆ·

    # æ ‘
    cv2.rectangle(img, (330, 250), (360, 350), (40, 80, 100), -1)  # æ ‘å¹²
    cv2.circle(img, (345, 200), 60, (30, 100, 30), -1)  # æ ‘å† 

    # äº‘
    cv2.ellipse(img, (80, 50), (50, 20), 0, 0, 360, (255, 255, 255), -1)
    cv2.ellipse(img, (100, 40), (30, 15), 0, 0, 360, (255, 255, 255), -1)

    return img

# åˆ›å»ºåœºæ™¯å›¾åƒ
scene_img = create_scene_image()
gray = cv2.cvtColor(scene_img, cv2.COLOR_BGR2GRAY)

# ===================== åº”ç”¨1ï¼šç‰©ä½“è½®å»“æå– =====================

# ä½¿ç”¨Cannyæå–è½®å»“
edges = cv2.Canny(gray, 50, 150)

# åœ¨åŸå›¾ä¸Šç»˜åˆ¶è½®å»“
contours, _ = cv2.findContours(edges, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)
scene_with_contours = scene_img.copy()
cv2.drawContours(scene_with_contours, contours, -1, (0, 255, 0), 2)

# ===================== åº”ç”¨2ï¼šå¡é€šæ•ˆæœ =====================

def create_cartoon_effect(img):
    """åˆ›å»ºå¡é€šæ•ˆæœ"""
    # 1. è¾¹ç¼˜æ£€æµ‹
    gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)
    blur = cv2.medianBlur(gray, 5)
    edges = cv2.adaptiveThreshold(blur, 255, cv2.ADAPTIVE_THRESH_MEAN_C,
                                   cv2.THRESH_BINARY, 9, 9)

    # 2. é¢œè‰²ç®€åŒ–ï¼ˆåŒè¾¹æ»¤æ³¢ï¼‰
    color = cv2.bilateralFilter(img, 9, 300, 300)

    # 3. åˆå¹¶è¾¹ç¼˜å’Œé¢œè‰²
    cartoon = cv2.bitwise_and(color, color, mask=edges)

    return cartoon

cartoon = create_cartoon_effect(scene_img)

# ===================== åº”ç”¨3ï¼šç´ ææ•ˆæœ =====================

def create_sketch_effect(img):
    """åˆ›å»ºç´ ææ•ˆæœ"""
    gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)

    # åè½¬
    inv = 255 - gray

    # é«˜æ–¯æ¨¡ç³Š
    blur = cv2.GaussianBlur(inv, (21, 21), 0)

    # é¢œè‰²å‡æ·¡
    sketch = cv2.divide(gray, 255 - blur, scale=256)

    return sketch

sketch = create_sketch_effect(scene_img)

# ===================== åº”ç”¨4ï¼šè¾¹ç¼˜å åŠ æ•ˆæœ =====================

def edge_overlay(img):
    """è¾¹ç¼˜å åŠ åˆ°åŸå›¾"""
    gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)
    edges = cv2.Canny(gray, 50, 150)

    # è¾¹ç¼˜è†¨èƒ€ä½¿å…¶æ›´æ˜æ˜¾
    kernel = np.ones((2, 2), np.uint8)
    edges = cv2.dilate(edges, kernel, iterations=1)

    # å°†è¾¹ç¼˜å åŠ åˆ°åŸå›¾ï¼ˆé»‘è‰²è¾¹ç¼˜ï¼‰
    result = img.copy()
    result[edges > 0] = [0, 0, 0]

    return result

edge_art = edge_overlay(scene_img)

# ===================== å¯è§†åŒ– =====================

fig, axes = plt.subplots(2, 3, figsize=(15, 10))

# åŸå›¾
axes[0, 0].imshow(cv2.cvtColor(scene_img, cv2.COLOR_BGR2RGB))
axes[0, 0].set_title('åŸå§‹åœºæ™¯å›¾åƒ', fontsize=12)
axes[0, 0].axis('off')

# è¾¹ç¼˜æ£€æµ‹ç»“æœ
axes[0, 1].imshow(edges, cmap='gray')
axes[0, 1].set_title('Cannyè¾¹ç¼˜æ£€æµ‹', fontsize=12)
axes[0, 1].axis('off')

# è½®å»“æå–
axes[0, 2].imshow(cv2.cvtColor(scene_with_contours, cv2.COLOR_BGR2RGB))
axes[0, 2].set_title('ç‰©ä½“è½®å»“æå–', fontsize=12)
axes[0, 2].axis('off')

# å¡é€šæ•ˆæœ
axes[1, 0].imshow(cv2.cvtColor(cartoon, cv2.COLOR_BGR2RGB))
axes[1, 0].set_title('å¡é€šæ•ˆæœ', fontsize=12)
axes[1, 0].axis('off')

# ç´ ææ•ˆæœ
axes[1, 1].imshow(sketch, cmap='gray')
axes[1, 1].set_title('ç´ ææ•ˆæœ', fontsize=12)
axes[1, 1].axis('off')

# è¾¹ç¼˜å åŠ 
axes[1, 2].imshow(cv2.cvtColor(edge_art, cv2.COLOR_BGR2RGB))
axes[1, 2].set_title('è¾¹ç¼˜å åŠ æ•ˆæœ', fontsize=12)
axes[1, 2].axis('off')

plt.suptitle('è¾¹ç¼˜æ£€æµ‹çš„å®é™…åº”ç”¨', fontsize=14, fontweight='bold')
plt.tight_layout()
plt.savefig('edge_detection_applications.png', dpi=150, bbox_inches='tight')
plt.show()

print("\nåº”ç”¨ç¤ºä¾‹å›¾å·²ä¿å­˜ä¸º 'edge_detection_applications.png'")
```

---

### ä»£ç 6ï¼šè¾¹ç¼˜æ£€æµ‹å‚æ•°è°ƒèŠ‚å·¥å…·

```python
"""
äº¤äº’å¼è¾¹ç¼˜æ£€æµ‹å‚æ•°è°ƒèŠ‚å·¥å…·
ä½¿ç”¨OpenCVçš„trackbarå®æ—¶è°ƒæ•´å‚æ•°
"""

import cv2
import numpy as np

# ===================== åˆ›å»ºæµ‹è¯•å›¾åƒ =====================

def create_test_image():
    """åˆ›å»ºæµ‹è¯•å›¾åƒ"""
    img = np.zeros((400, 500), dtype=np.uint8)
    img[:] = 50

    # å„ç§å½¢çŠ¶
    cv2.rectangle(img, (50, 50), (150, 150), 200, -1)
    cv2.circle(img, (250, 100), 50, 180, -1)
    cv2.ellipse(img, (400, 100), (60, 40), 30, 0, 360, 220, -1)

    # å¸¦æ¸å˜çš„åŒºåŸŸ
    for i in range(150):
        img[200:350, 50+i*2:52+i*2] = 50 + i

    # ä¸€äº›çº¿æ¡
    cv2.line(img, (300, 200), (450, 350), 200, 3)
    cv2.line(img, (300, 350), (450, 200), 200, 3)

    return img

# å…¨å±€å˜é‡
img = create_test_image()
blur_size = 3
threshold1 = 50
threshold2 = 150

def nothing(x):
    """ç©ºå›è°ƒå‡½æ•°"""
    pass

def update_edge_detection():
    """æ›´æ–°è¾¹ç¼˜æ£€æµ‹ç»“æœ"""
    global img, blur_size, threshold1, threshold2

    # è·å–trackbarçš„å€¼
    blur_size = cv2.getTrackbarPos('Blur Size', 'Edge Detection')
    threshold1 = cv2.getTrackbarPos('Threshold1', 'Edge Detection')
    threshold2 = cv2.getTrackbarPos('Threshold2', 'Edge Detection')

    # ç¡®ä¿blur_sizeæ˜¯å¥‡æ•°ä¸”å¤§äº0
    if blur_size % 2 == 0:
        blur_size += 1
    if blur_size < 1:
        blur_size = 1

    # åº”ç”¨é«˜æ–¯æ¨¡ç³Š
    blurred = cv2.GaussianBlur(img, (blur_size, blur_size), 0)

    # åº”ç”¨Cannyè¾¹ç¼˜æ£€æµ‹
    edges = cv2.Canny(blurred, threshold1, threshold2)

    # åˆ›å»ºå¯¹æ¯”æ˜¾ç¤º
    display = np.hstack([img, blurred, edges])

    # æ·»åŠ æ–‡å­—è¯´æ˜
    cv2.putText(display, 'Original', (10, 30),
                cv2.FONT_HERSHEY_SIMPLEX, 0.8, 255, 2)
    cv2.putText(display, f'Blurred (k={blur_size})', (510, 30),
                cv2.FONT_HERSHEY_SIMPLEX, 0.8, 255, 2)
    cv2.putText(display, f'Canny ({threshold1}-{threshold2})', (1010, 30),
                cv2.FONT_HERSHEY_SIMPLEX, 0.8, 255, 2)

    cv2.imshow('Edge Detection', display)

# ===================== åˆ›å»ºçª—å£å’Œtrackbar =====================

cv2.namedWindow('Edge Detection', cv2.WINDOW_NORMAL)
cv2.resizeWindow('Edge Detection', 1500, 450)

# åˆ›å»ºtrackbar
cv2.createTrackbar('Blur Size', 'Edge Detection', 3, 31, nothing)
cv2.createTrackbar('Threshold1', 'Edge Detection', 50, 300, nothing)
cv2.createTrackbar('Threshold2', 'Edge Detection', 150, 300, nothing)

print("=" * 60)
print("è¾¹ç¼˜æ£€æµ‹å‚æ•°è°ƒèŠ‚å·¥å…·")
print("=" * 60)
print("\nä½¿ç”¨è¯´æ˜ï¼š")
print("  â€¢ Blur Size: é«˜æ–¯æ¨¡ç³Šæ ¸å¤§å°ï¼ˆè¶Šå¤§è¶Šå¹³æ»‘ï¼‰")
print("  â€¢ Threshold1: Cannyä½é˜ˆå€¼ï¼ˆä½äºæ­¤å€¼ä¸æ˜¯è¾¹ç¼˜ï¼‰")
print("  â€¢ Threshold2: Cannyé«˜é˜ˆå€¼ï¼ˆé«˜äºæ­¤å€¼ä¸€å®šæ˜¯è¾¹ç¼˜ï¼‰")
print("\nå‚æ•°è°ƒèŠ‚å»ºè®®ï¼š")
print("  â€¢ Threshold2 é€šå¸¸è®¾ä¸º Threshold1 çš„ 2-3 å€")
print("  â€¢ Blur Size æ ¹æ®å™ªå£°ç¨‹åº¦è°ƒæ•´")
print("\næŒ‰ 'q' æˆ– ESC é”®é€€å‡º")
print("=" * 60)

# ===================== ä¸»å¾ªç¯ =====================

while True:
    update_edge_detection()

    key = cv2.waitKey(100) & 0xFF
    if key == ord('q') or key == 27:  # 'q' æˆ– ESC é€€å‡º
        break

cv2.destroyAllWindows()

print("\nç¨‹åºå·²é€€å‡º")
print(f"æœ€ç»ˆå‚æ•°: Blur={blur_size}, Threshold1={threshold1}, Threshold2={threshold2}")
```

---

## ğŸ“ æœ¬èŠ‚æ€»ç»“

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       è¾¹ç¼˜æ£€æµ‹ç†è®ºæ€»ç»“                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  1. è¾¹ç¼˜çš„æœ¬è´¨                                                      â”‚
â”‚     â€¢ è¾¹ç¼˜ = ç°åº¦å€¼å‰§çƒˆå˜åŒ–çš„ä½ç½®                                   â”‚
â”‚     â€¢ æ•°å­¦è¡¨ç¤ºï¼šæ¢¯åº¦ï¼ˆå¯¼æ•°ï¼‰å¤§çš„åœ°æ–¹                                â”‚
â”‚     â€¢ è¾¹ç¼˜ç±»å‹ï¼šé˜¶è·ƒã€æ–œå¡ã€å±‹é¡¶ã€çº¿æ¡                              â”‚
â”‚                                                                    â”‚
â”‚  2. æ¢¯åº¦ä¸è¾¹ç¼˜                                                      â”‚
â”‚     â€¢ æ¢¯åº¦ = (âˆ‚f/âˆ‚x, âˆ‚f/âˆ‚y)                                        â”‚
â”‚     â€¢ æ¢¯åº¦å¹…å€¼ = âˆš(GxÂ² + GyÂ²)                                      â”‚
â”‚     â€¢ è¾¹ç¼˜ä½ç½® = æ¢¯åº¦å¹…å€¼çš„æå¤§å€¼ç‚¹                                 â”‚
â”‚                                                                    â”‚
â”‚  3. ä¸»è¦è¾¹ç¼˜æ£€æµ‹ç®—å­                                                â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚     â”‚  Sobel   â”‚ ä¸€é˜¶å¯¼æ•°ï¼Œæœ‰å¹³æ»‘ï¼Œç»å…¸å®ç”¨              â”‚         â”‚
â”‚     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚     â”‚  Scharr  â”‚ Sobelæ”¹è¿›ç‰ˆï¼Œç²¾åº¦æ›´é«˜                   â”‚         â”‚
â”‚     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚     â”‚Laplacian â”‚ äºŒé˜¶å¯¼æ•°ï¼Œå„å‘åŒæ€§ï¼Œå¯¹å™ªå£°æ•æ„Ÿ          â”‚         â”‚
â”‚     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚     â”‚  Canny   â”‚ å¤šé˜¶æ®µç®—æ³•ï¼Œæ•ˆæœæœ€å¥½ï¼Œåº”ç”¨æœ€å¹¿          â”‚         â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                    â”‚
â”‚  4. è¾¹ç¼˜æ£€æµ‹æµç¨‹                                                    â”‚
â”‚     ç°åº¦è½¬æ¢ â†’ é™å™ªå¤„ç† â†’ è¾¹ç¼˜æ£€æµ‹ â†’ åå¤„ç†                         â”‚
â”‚                                                                    â”‚
â”‚  5. é‡è¦æç¤º                                                        â”‚
â”‚     â€¢ å™ªå£°ä¼šäº§ç”Ÿå¤§é‡å‡è¾¹ç¼˜ï¼Œå¿…é¡»å…ˆé™å™ªï¼                            â”‚
â”‚     â€¢ åŒè¾¹æ»¤æ³¢æ˜¯è¾¹ç¼˜æ£€æµ‹å‰çš„æœ€ä½³é™å™ªé€‰æ‹©                            â”‚
â”‚     â€¢ Cannyçš„ä¸¤ä¸ªé˜ˆå€¼ï¼šé«˜é˜ˆå€¼çš„2-3å€å…³ç³»                            â”‚
â”‚                                                                    â”‚
â”‚  6. OpenCV å‡½æ•°                                                     â”‚
â”‚     â€¢ cv2.Sobel() - Sobelç®—å­                                      â”‚
â”‚     â€¢ cv2.Scharr() - Scharrç®—å­                                    â”‚
â”‚     â€¢ cv2.Laplacian() - Laplacianç®—å­                              â”‚
â”‚     â€¢ cv2.Canny() - Cannyè¾¹ç¼˜æ£€æµ‹                                  â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥å­¦ä¹ 

åœ¨ä¸‹ä¸€èŠ‚ **"02-Sobelç®—å­"** ä¸­ï¼Œæˆ‘ä»¬å°†ï¼š
- æ·±å…¥å­¦ä¹ Sobelç®—å­çš„æ•°å­¦åŸç†
- äº†è§£ä¸åŒksizeå‚æ•°çš„å½±å“
- å­¦ä¹ å¦‚ä½•åˆå¹¶æ°´å¹³å’Œå‚ç›´æ¢¯åº¦
- å®æˆ˜ï¼šä½¿ç”¨Sobelæ£€æµ‹å›¾åƒè¾¹ç¼˜

---

> ğŸ’¡ **å­¦ä¹ å»ºè®®**ï¼šè¾¹ç¼˜æ£€æµ‹æ˜¯åç»­å¾ˆå¤šé«˜çº§ç®—æ³•ï¼ˆå¦‚è½®å»“æ£€æµ‹ã€ç‰¹å¾æå–ã€ç›®æ ‡æ£€æµ‹ï¼‰çš„åŸºç¡€ã€‚å»ºè®®å¤šåŠ¨æ‰‹å®éªŒï¼Œç†è§£ä¸åŒç®—å­å’Œå‚æ•°çš„æ•ˆæœå·®å¼‚ï¼
