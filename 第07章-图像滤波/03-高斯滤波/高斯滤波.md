# é«˜æ–¯æ»¤æ³¢

> é«˜æ–¯æ»¤æ³¢æ˜¯å‡å€¼æ»¤æ³¢çš„"å‡çº§ç‰ˆ"ã€‚å‡å€¼æ»¤æ³¢å¯¹æ‰€æœ‰é‚»å±…ä¸€è§†åŒä»ï¼Œè€Œé«˜æ–¯æ»¤æ³¢**è®©ç¦»ä¸­å¿ƒè¿‘çš„åƒç´ æƒé‡æ›´å¤§ã€è¿œçš„æƒé‡æ›´å°**ã€‚è¿™æ›´ç¬¦åˆç›´è§‰â€”â€”è·ç¦»è¶Šè¿‘çš„é‚»å±…å½±å“åŠ›åº”è¯¥è¶Šå¤§ï¼

---

## ğŸ“– ç†è®ºéƒ¨åˆ†

### 1. ä¸ºä»€ä¹ˆéœ€è¦é«˜æ–¯æ»¤æ³¢ï¼Ÿ

#### 1.1 å‡å€¼æ»¤æ³¢çš„ä¸è¶³

ä¸Šä¸€èŠ‚æˆ‘ä»¬å­¦äº†å‡å€¼æ»¤æ³¢ï¼Œå®ƒæœ‰ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼š**æ‰€æœ‰é‚»å±…çš„æƒé‡å®Œå…¨ç›¸åŒ**ã€‚

```
å‡å€¼æ»¤æ³¢çš„"ä¸å…¬å¹³"é—®é¢˜ï¼š

  ä»¥ä¸­å¿ƒåƒç´  â— ä¸ºä¾‹ï¼Œ3Ã—3 é‚»åŸŸä¸­ï¼š

  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
  â”‚ A  â”‚ B  â”‚ C  â”‚    è·ç¦»ä¸­å¿ƒ â— çš„è¿œè¿‘ï¼š
  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤      B, D, F, Hï¼šç›´æ¥ç›¸é‚»ï¼ˆè·ç¦»=1ï¼‰
  â”‚ D  â”‚ â—  â”‚ F  â”‚      A, C, G, Iï¼šå¯¹è§’ç›¸é‚»ï¼ˆè·ç¦»=âˆš2â‰ˆ1.41ï¼‰
  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
  â”‚ G  â”‚ H  â”‚ I  â”‚
  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜

  å‡å€¼æ»¤æ³¢ï¼šA=B=C=D=â—=F=G=H=Iï¼Œæƒé‡å…¨éƒ¨ = 1/9
  â†’ è·ç¦»æ›´è¿œçš„è§’è½åƒç´ å’Œç›´æ¥ç›¸é‚»çš„åƒç´ å±…ç„¶åŒç­‰é‡è¦ï¼Ÿ

  é«˜æ–¯æ»¤æ³¢ï¼šè·ç¦»è¶Šè¿‘æƒé‡è¶Šå¤§
  â†’ B,D,F,H çš„æƒé‡ > A,C,G,I çš„æƒé‡
  â†’ æ›´åˆç†ï¼
```

#### 1.2 é«˜æ–¯å‡½æ•°ï¼ˆæ­£æ€åˆ†å¸ƒï¼‰

é«˜æ–¯æ»¤æ³¢çš„æƒé‡ç”±**é«˜æ–¯å‡½æ•°**ï¼ˆä¹Ÿå«æ­£æ€åˆ†å¸ƒï¼‰å†³å®šï¼š

```
ä¸€ç»´é«˜æ–¯å‡½æ•°ï¼š

  G(x) = (1 / (âˆš(2Ï€)Â·Ïƒ)) Ã— e^(-xÂ²/(2ÏƒÂ²))

  å…¶ä¸­ Ïƒ (sigma) æ§åˆ¶"é’Ÿå½¢æ›²çº¿"çš„å®½åº¦ï¼š

  Ïƒ å°ï¼ˆå¦‚ 0.5ï¼‰ï¼šå°–ç˜¦çš„é’Ÿå½¢         Ïƒ å¤§ï¼ˆå¦‚ 2.0ï¼‰ï¼šçŸ®èƒ–çš„é’Ÿå½¢
       â•±â•²                                 â•­â”€â”€â”€â”€â”€â”€â•®
      â•±  â•²                              â•­â”€â•¯      â•°â”€â•®
     â•±    â•²                           â•­â”€â•¯            â•°â”€â•®
    â•±      â•²                        â•­â”€â•¯                â•°â”€â•®
  â”€â•±â”€â”€â”€â”€â”€â”€â”€â”€â•²â”€â”€                  â”€â”€â•¯â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•°â”€â”€
  æƒé‡é›†ä¸­åœ¨ä¸­å¿ƒ                   æƒé‡åˆ†æ•£åˆ°æ›´è¿œçš„ä½ç½®
  â†’ æ¨¡ç³Šæ•ˆæœå¼±                    â†’ æ¨¡ç³Šæ•ˆæœå¼º
```

```
äºŒç»´é«˜æ–¯å‡½æ•°ï¼ˆå›¾åƒç”¨ï¼‰ï¼š

  G(x,y) = (1 / (2Ï€Â·ÏƒÂ²)) Ã— e^(-(xÂ²+yÂ²)/(2ÏƒÂ²))

  è¿™äº§ç”Ÿä¸€ä¸ª"ä¸­å¿ƒé«˜ã€å››å‘¨ä½"çš„é’Ÿå½¢æ›²é¢ï¼š

  ä»ä¸Šæ–¹ä¿¯è§†ï¼ˆç­‰é«˜çº¿å›¾ï¼‰ï¼š
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                         â”‚
  â”‚      â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®        â”‚
  â”‚    â•­â”€â”¤ â•­â”€â”€â”€â”€â”€â•® â”œâ”€â•®      â”‚
  â”‚    â”‚  â”‚ â•­â”€â”€â”€â•® â”‚  â”‚      â”‚
  â”‚    â”‚  â”‚ â”‚ â— â”‚ â”‚  â”‚      â”‚    â— = ä¸­å¿ƒï¼ˆæƒé‡æœ€å¤§ï¼‰
  â”‚    â”‚  â”‚ â•°â”€â”€â”€â•¯ â”‚  â”‚      â”‚    è¶Šå¾€å¤–ï¼Œæƒé‡è¶Šå°
  â”‚    â•°â”€â”¤ â•°â”€â”€â”€â”€â”€â•¯ â”œâ”€â•¯      â”‚
  â”‚      â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯        â”‚
  â”‚                         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 1.3 é«˜æ–¯æ ¸çš„å…·ä½“æ•°å€¼

```
Ïƒ=1 æ—¶ï¼Œ3Ã—3 é«˜æ–¯æ ¸çš„æƒé‡è®¡ç®—ï¼š

  ä½ç½®(x,y)ç›¸å¯¹äºä¸­å¿ƒçš„è·ç¦»å’Œæƒé‡ï¼š

  (-1,-1)  (0,-1)  (1,-1)     è·ç¦»Â²ï¼š2  1  2
  (-1, 0)  (0, 0)  (1, 0)     è·ç¦»Â²ï¼š1  0  1
  (-1, 1)  (0, 1)  (1, 1)     è·ç¦»Â²ï¼š2  1  2

  ä»£å…¥å…¬å¼ e^(-dÂ²/(2Ã—1Â²))ï¼š

  e^(-1)   e^(-0.5)  e^(-1)       0.368  0.607  0.368
  e^(-0.5) e^(0)     e^(-0.5)  =  0.607  1.000  0.607
  e^(-1)   e^(-0.5)  e^(-1)       0.368  0.607  0.368

  å½’ä¸€åŒ–åï¼ˆæ‰€æœ‰å€¼é™¤ä»¥æ€»å’Œ 4.896ï¼‰ï¼š

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ 0.075 â”‚ 0.124 â”‚ 0.075 â”‚    æ³¨æ„ï¼š
  â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤    - ä¸­å¿ƒæƒé‡æœ€å¤§ (0.204)
  â”‚ 0.124 â”‚ 0.204 â”‚ 0.124 â”‚    - ä¸Šä¸‹å·¦å³æ¬¡ä¹‹ (0.124)
  â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤    - å››è§’æœ€å° (0.075)
  â”‚ 0.075 â”‚ 0.124 â”‚ 0.075 â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜    æ€»å’Œ = 1.0ï¼ˆå½’ä¸€åŒ–ï¼‰

  è¿‘ä¼¼çš„æ•´æ•°æ¯”ï¼š
  â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
  â”‚ 1 â”‚ 2 â”‚ 1 â”‚
  â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤     Ã— (1/16)
  â”‚ 2 â”‚ 4 â”‚ 2 â”‚
  â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤     è¿™æ˜¯æœ€å¸¸è§çš„ 3Ã—3 è¿‘ä¼¼é«˜æ–¯æ ¸
  â”‚ 1 â”‚ 2 â”‚ 1 â”‚
  â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
```

---

### 2. Ïƒ å‚æ•°çš„å½±å“

Ïƒï¼ˆsigmaï¼‰æ˜¯é«˜æ–¯æ»¤æ³¢æœ€é‡è¦çš„å‚æ•°ï¼Œå®ƒå†³å®šäº†æ¨¡ç³Šçš„ç¨‹åº¦ï¼š

```
Ïƒ å¯¹æ¨¡ç³Šæ•ˆæœçš„å½±å“ï¼š

  Ïƒ å°ï¼ˆå¦‚ 0.5ï¼‰ï¼š                Ïƒ å¤§ï¼ˆå¦‚ 3.0ï¼‰ï¼š
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ 0.011 â”‚ 0.084 â”‚ 0.011 â”‚      â”‚ 0.095 â”‚ 0.118 â”‚ 0.095 â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ 0.084 â”‚ 0.619 â”‚ 0.084 â”‚      â”‚ 0.118 â”‚ 0.148 â”‚ 0.118 â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ 0.011 â”‚ 0.084 â”‚ 0.011 â”‚      â”‚ 0.095 â”‚ 0.118 â”‚ 0.095 â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜
  ä¸­å¿ƒæƒé‡=0.619ï¼ˆä¸»å¯¼ï¼‰           ä¸­å¿ƒæƒé‡=0.148ï¼ˆæ¥è¿‘å‡å€¼ï¼‰
  â†’ å‡ ä¹ä¸æ¨¡ç³Š                    â†’ æ¥è¿‘å‡å€¼æ»¤æ³¢

  Ïƒ â†’ 0  ï¼šå®Œå…¨ä¸æ¨¡ç³Šï¼ˆåŸå›¾ï¼‰
  Ïƒ â†’ âˆ  ï¼šé€€åŒ–ä¸ºå‡å€¼æ»¤æ³¢
```

> ğŸ’¡ **ç»éªŒæ³•åˆ™ï¼š** Ïƒ ä¸€èˆ¬å–æ ¸å¤§å°çš„ 1/6 åˆ° 1/3ã€‚å¦‚æœè®¾ Ïƒ=0ï¼ŒOpenCV ä¼šæ ¹æ®æ ¸å¤§å°è‡ªåŠ¨è®¡ç®—ï¼šÏƒ = 0.3 Ã— ((ksize-1)/2 - 1) + 0.8

---

### 3. é«˜æ–¯æ»¤æ³¢ vs å‡å€¼æ»¤æ³¢

```
å¯¹æ¯”ï¼šé«˜æ–¯ vs å‡å€¼

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚    ç‰¹æ€§      â”‚    å‡å€¼æ»¤æ³¢       â”‚    é«˜æ–¯æ»¤æ³¢       â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ æƒé‡åˆ†å¸ƒ    â”‚ æ‰€æœ‰ç›¸ç­‰          â”‚ ä¸­å¿ƒå¤§ï¼Œè¾¹ç¼˜å°    â”‚
  â”‚ è¾¹ç¼˜ä¿æŒ    â”‚ è¾ƒå·®              â”‚ ç¨å¥½              â”‚
  â”‚ æ¨¡ç³Šæ•ˆæœ    â”‚ å‡åŒ€æ¨¡ç³Š          â”‚ è‡ªç„¶æŸ”å’Œçš„æ¨¡ç³Š    â”‚
  â”‚ è§†è§‰æ•ˆæœ    â”‚ æœ‰ç‚¹"å¡‘æ–™æ„Ÿ"     â”‚ æ›´æ¥è¿‘è‡ªç„¶å¤±ç„¦    â”‚
  â”‚ è®¡ç®—é€Ÿåº¦    â”‚ å¿«                â”‚ ç•¥æ…¢              â”‚
  â”‚ å¯è°ƒå‚æ•°    â”‚ ä»…æ ¸å¤§å°          â”‚ æ ¸å¤§å° + Ïƒ        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  è§†è§‰å¯¹æ¯”ï¼š
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  åŸå›¾    â”‚  â”‚ å‡å€¼æ¨¡ç³Š â”‚  â”‚ é«˜æ–¯æ¨¡ç³Š â”‚
  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚  â”‚ â–“â–“â–“â–“â–“â–“â–“â–“ â”‚  â”‚ â–“â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚
  â”‚ â–ˆâ–ˆ    â–ˆâ–ˆ â”‚  â”‚ â–“â–“    â–“â–“ â”‚  â”‚ â–“â–ˆ    â–ˆâ–“ â”‚
  â”‚ â–ˆâ–ˆ    â–ˆâ–ˆ â”‚  â”‚ â–“â–“    â–“â–“ â”‚  â”‚ â–“â–ˆ    â–ˆâ–“ â”‚
  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚  â”‚ â–“â–“â–“â–“â–“â–“â–“â–“ â”‚  â”‚ â–“â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 è¾¹ç¼˜å…¨æ¨¡ç³Š     è¾¹ç¼˜æ›´è‡ªç„¶
```

---

### 4. OpenCV ä¸­çš„é«˜æ–¯æ»¤æ³¢

```
å‡½æ•°ç­¾åï¼š

  cv2.GaussianBlur(src, ksize, sigmaX, sigmaY=0)
  â”œâ”€â”€ src    : è¾“å…¥å›¾åƒ
  â”œâ”€â”€ ksize  : æ ¸å¤§å° (å®½, é«˜)ï¼Œå¿…é¡»æ˜¯æ­£å¥‡æ•°ï¼Œå¦‚ (3,3)ã€(5,5)
  â”œâ”€â”€ sigmaX : X æ–¹å‘çš„ Ïƒ å€¼
  â””â”€â”€ sigmaY : Y æ–¹å‘çš„ Ïƒ å€¼ï¼ˆ0 è¡¨ç¤ºä¸ sigmaX ç›¸åŒï¼‰

  å¸¸ç”¨è°ƒç”¨æ–¹å¼ï¼š
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ cv2.GaussianBlur(img, (5,5), 0)                         â”‚
  â”‚ â†’ æ ¸å¤§å° 5Ã—5ï¼ŒÏƒ è‡ªåŠ¨è®¡ç®—ï¼ˆæ¨èæ–°æ‰‹ä½¿ç”¨ï¼‰               â”‚
  â”‚                                                          â”‚
  â”‚ cv2.GaussianBlur(img, (5,5), 1.0)                       â”‚
  â”‚ â†’ æ ¸å¤§å° 5Ã—5ï¼ŒÏƒ=1.0ï¼ˆæ‰‹åŠ¨æŒ‡å®šï¼‰                        â”‚
  â”‚                                                          â”‚
  â”‚ cv2.GaussianBlur(img, (0,0), 3.0)                       â”‚
  â”‚ â†’ æ ¸å¤§å°è‡ªåŠ¨æ ¹æ® Ïƒ=3.0 è®¡ç®—ï¼ˆé«˜çº§ç”¨æ³•ï¼‰                â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ’¡ **å»ºè®®ï¼š** æ–°æ‰‹ç›´æ¥ç”¨ `cv2.GaussianBlur(img, (5,5), 0)` å°±å¥½ï¼Œè®© OpenCV è‡ªåŠ¨è®¡ç®— Ïƒã€‚

---

## ğŸ’» ä»£ç éƒ¨åˆ†

### ä»£ç ç¤ºä¾‹ 1ï¼šåŸºç¡€é«˜æ–¯æ»¤æ³¢

```python
import cv2
import numpy as np

# è¯»å–å›¾åƒ
img = cv2.imread("test.jpg")

# ========== ä¸åŒæ ¸å¤§å°çš„é«˜æ–¯æ»¤æ³¢ï¼ˆÏƒ è‡ªåŠ¨è®¡ç®—ï¼‰==========
gauss_3 = cv2.GaussianBlur(img, (3, 3), 0)
gauss_5 = cv2.GaussianBlur(img, (5, 5), 0)
gauss_9 = cv2.GaussianBlur(img, (9, 9), 0)
gauss_15 = cv2.GaussianBlur(img, (15, 15), 0)

# æ˜¾ç¤ºå¯¹æ¯”
cv2.imshow("Original", img)
cv2.imshow("Gaussian 3x3", gauss_3)
cv2.imshow("Gaussian 5x5", gauss_5)
cv2.imshow("Gaussian 9x9", gauss_9)
cv2.imshow("Gaussian 15x15", gauss_15)
cv2.waitKey(0)
cv2.destroyAllWindows()
```

---

### ä»£ç ç¤ºä¾‹ 2ï¼šÏƒ å‚æ•°å¯¹æ¨¡ç³Šæ•ˆæœçš„å½±å“

```python
import cv2
import numpy as np

# è¯»å–å›¾åƒ
img = cv2.imread("test.jpg")

# å›ºå®šæ ¸å¤§å° (15,15)ï¼Œæ”¹å˜ Ïƒ
sigmas = [0.5, 1.0, 2.0, 3.0, 5.0, 10.0]

for sigma in sigmas:
    result = cv2.GaussianBlur(img, (15, 15), sigma)
    cv2.imshow(f"sigma={sigma}", result)

cv2.imshow("Original", img)
cv2.waitKey(0)
cv2.destroyAllWindows()

# è§‚å¯Ÿï¼š
# Ïƒ=0.5  â†’ å‡ ä¹æ²¡æœ‰æ¨¡ç³Šï¼ˆæƒé‡é›†ä¸­åœ¨ä¸­å¿ƒï¼‰
# Ïƒ=1.0  â†’ è½»å¾®æ¨¡ç³Š
# Ïƒ=3.0  â†’ æ˜æ˜¾æ¨¡ç³Š
# Ïƒ=5.0  â†’ å¾ˆå¼ºçš„æ¨¡ç³Š
# Ïƒ=10.0 â†’ æ¥è¿‘å‡å€¼æ¨¡ç³Šï¼ˆæƒé‡å‡ ä¹å‡åŒ€åˆ†å¸ƒï¼‰
```

---

### ä»£ç ç¤ºä¾‹ 3ï¼šæŸ¥çœ‹é«˜æ–¯æ ¸çš„å®é™…æ•°å€¼

```python
import cv2
import numpy as np

# OpenCV å¯ä»¥ç›´æ¥ç”Ÿæˆé«˜æ–¯æ ¸ï¼Œæ–¹ä¾¿æˆ‘ä»¬æŸ¥çœ‹
kernel_3 = cv2.getGaussianKernel(3, 0)   # 3Ã—1 çš„ä¸€ç»´æ ¸ï¼ŒÏƒè‡ªåŠ¨
kernel_5 = cv2.getGaussianKernel(5, 0)   # 5Ã—1 çš„ä¸€ç»´æ ¸
kernel_5_s1 = cv2.getGaussianKernel(5, 1.0)  # Ïƒ=1.0

print("3Ã—1 é«˜æ–¯æ ¸ (Ïƒ=auto)ï¼š")
print(kernel_3.T)  # è½¬ç½®æ˜¾ç¤ºä¸ºä¸€è¡Œ
# [[0.25  0.5   0.25]]

print("\n5Ã—1 é«˜æ–¯æ ¸ (Ïƒ=auto)ï¼š")
print(np.round(kernel_5.T, 4))
# [[0.0625  0.25  0.375  0.25  0.0625]]

print("\n5Ã—1 é«˜æ–¯æ ¸ (Ïƒ=1.0)ï¼š")
print(np.round(kernel_5_s1.T, 4))
# [[0.0545  0.2442  0.4026  0.2442  0.0545]]

# äºŒç»´é«˜æ–¯æ ¸ = ä¸€ç»´æ ¸çš„å¤–ç§¯
kernel_2d = kernel_5 @ kernel_5.T
print("\n5Ã—5 äºŒç»´é«˜æ–¯æ ¸ï¼š")
print(np.round(kernel_2d, 4))
# ä¸­å¿ƒå€¼æœ€å¤§ï¼Œå››è§’å€¼æœ€å°

print(f"\næ ¸çš„æ€»å’Œ = {kernel_2d.sum():.6f}")  # åº”è¯¥æ¥è¿‘ 1.0
```

---

### ä»£ç ç¤ºä¾‹ 4ï¼šé«˜æ–¯æ»¤æ³¢ vs å‡å€¼æ»¤æ³¢å¯¹æ¯”

```python
import cv2
import numpy as np

def add_gaussian_noise(image, sigma=25):
    """æ·»åŠ é«˜æ–¯å™ªå£°"""
    noise = np.random.normal(0, sigma, image.shape).astype(np.float64)
    noisy = np.clip(image.astype(np.float64) + noise, 0, 255)
    return noisy.astype(np.uint8)

def psnr(original, processed):
    """è®¡ç®— PSNR"""
    mse = np.mean((original.astype(np.float64) - processed.astype(np.float64)) ** 2)
    if mse == 0:
        return float('inf')
    return 10 * np.log10(255.0 ** 2 / mse)

# è¯»å–å›¾åƒ
img = cv2.imread("test.jpg", cv2.IMREAD_GRAYSCALE)

# æ·»åŠ å™ªå£°
noisy = add_gaussian_noise(img, sigma=30)

print("å™ªå£°ç±»å‹ï¼šé«˜æ–¯å™ªå£° (Ïƒ=30)")
print(f"{'æ–¹æ³•':<25} {'PSNR (dB)':>10}")
print("-" * 37)
print(f"{'å™ªå£°å›¾åƒ':<25} {psnr(img, noisy):>10.2f}")

# ä¸åŒæ ¸å¤§å°çš„å¯¹æ¯”
for k in [3, 5, 7, 9, 11]:
    mean_result = cv2.blur(noisy, (k, k))
    gauss_result = cv2.GaussianBlur(noisy, (k, k), 0)

    p_mean = psnr(img, mean_result)
    p_gauss = psnr(img, gauss_result)

    print(f"å‡å€¼ {k}Ã—{k:<19} {p_mean:>10.2f}")
    print(f"é«˜æ–¯ {k}Ã—{k:<19} {p_gauss:>10.2f}")

# å…¸å‹è¾“å‡ºï¼š
# æ–¹æ³•                        PSNR (dB)
# -------------------------------------
# å™ªå£°å›¾åƒ                       20.18
# å‡å€¼ 3Ã—3                        24.82
# é«˜æ–¯ 3Ã—3                        25.15   â† é«˜æ–¯ç•¥å¥½
# å‡å€¼ 5Ã—5                        25.93
# é«˜æ–¯ 5Ã—5                        26.38   â† é«˜æ–¯ç•¥å¥½
# ...
# ç»“è®ºï¼šé«˜æ–¯æ»¤æ³¢çš„ PSNR é€šå¸¸ç•¥ä¼˜äºåŒå¤§å°çš„å‡å€¼æ»¤æ³¢
```

---

### ä»£ç ç¤ºä¾‹ 5ï¼šå¤šæ¬¡è¿­ä»£é«˜æ–¯æ»¤æ³¢

```python
import cv2
import numpy as np

# è¯»å–å›¾åƒ
img = cv2.imread("test.jpg")

# å°æ ¸å¤šæ¬¡æ»¤æ³¢ vs å¤§æ ¸ä¸€æ¬¡æ»¤æ³¢
# æ•°å­¦ä¸Šï¼Œå¤šæ¬¡å°é«˜æ–¯ç­‰æ•ˆäºä¸€æ¬¡å¤§é«˜æ–¯

# å•æ¬¡å¤§æ ¸
single_large = cv2.GaussianBlur(img, (15, 15), 0)

# å¤šæ¬¡å°æ ¸
multi_small = img.copy()
for _ in range(5):
    multi_small = cv2.GaussianBlur(multi_small, (5, 5), 0)

# æ˜¾ç¤ºå¯¹æ¯”
cv2.imshow("Original", img)
cv2.imshow("Single (15,15)", single_large)
cv2.imshow("5x GaussianBlur (5,5)", multi_small)
cv2.waitKey(0)
cv2.destroyAllWindows()

# æ•°å­¦æ€§è´¨ï¼š
# å¤šæ¬¡é«˜æ–¯æ»¤æ³¢ç­‰ä»·äºä¸€æ¬¡æ›´å¤§çš„é«˜æ–¯æ»¤æ³¢
# Ïƒ_total = âˆš(Ïƒ1Â² + Ïƒ2Â² + ... + ÏƒnÂ²)
# å¦‚æœæ¯æ¬¡ Ïƒ=1ï¼Œåš n æ¬¡ï¼Œç­‰æ•ˆ Ïƒ = âˆšn
```

---

### ä»£ç ç¤ºä¾‹ 6ï¼šé«˜æ–¯æ»¤æ³¢çš„å®é™…åº”ç”¨â€”â€”ç®€å•ç£¨çš®

```python
import cv2
import numpy as np

# è¯»å–äººåƒå›¾ç‰‡
img = cv2.imread("portrait.jpg")

# æ–¹æ³•ï¼šé«˜æ–¯æ¨¡ç³Š + åŸå›¾æ··åˆ = ç®€å•ç£¨çš®æ•ˆæœ
# æ€è·¯ï¼šæ¨¡ç³Šç‰ˆæœ¬æ¶ˆé™¤äº†çš®è‚¤ç‘•ç–µï¼Œå’ŒåŸå›¾æ··åˆä¿ç•™æ•´ä½“è½®å»“

# 1. å¼ºé«˜æ–¯æ¨¡ç³Š
blurred = cv2.GaussianBlur(img, (0, 0), 10)

# 2. æŒ‰æ¯”ä¾‹æ··åˆï¼šä¿ç•™ä¸€éƒ¨åˆ†ç»†èŠ‚
#    alpha=0.7 åŸå›¾ + beta=0.3 æ¨¡ç³Š = è½»åº¦ç£¨çš®
alpha = 0.7   # åŸå›¾æƒé‡ï¼ˆè¶Šå¤§è¶Šæ¸…æ™°ï¼‰
beta = 0.3    # æ¨¡ç³Šæƒé‡ï¼ˆè¶Šå¤§è¶Šå…‰æ»‘ï¼‰
skin_smooth = cv2.addWeighted(img, alpha, blurred, beta, 0)

# æ˜¾ç¤º
cv2.imshow("Original", img)
cv2.imshow("Gaussian Blurred", blurred)
cv2.imshow("Simple Skin Smooth", skin_smooth)
cv2.waitKey(0)
cv2.destroyAllWindows()

# æç¤ºï¼šè¿™åªæ˜¯éå¸¸ç®€å•çš„ç£¨çš®
# ä¸“ä¸šç£¨çš®ä¼šç”¨åŒè¾¹æ»¤æ³¢ï¼ˆä¿ç•™è¾¹ç¼˜ï¼‰ï¼Œæˆ‘ä»¬åé¢ä¼šå­¦åˆ°ï¼
```

---

## ğŸ“ æœ¬èŠ‚å°ç»“

```
é«˜æ–¯æ»¤æ³¢ - çŸ¥è¯†è„‘å›¾ï¼š

  é«˜æ–¯æ»¤æ³¢ (cv2.GaussianBlur)
  â”‚
  â”œâ”€â”€ åŸç†
  â”‚   â”œâ”€â”€ æƒé‡ç”±é«˜æ–¯å‡½æ•°å†³å®š
  â”‚   â”œâ”€â”€ ä¸­å¿ƒæƒé‡å¤§ï¼Œè¾¹ç¼˜æƒé‡å°
  â”‚   â””â”€â”€ Ïƒ æ§åˆ¶æ¨¡ç³Šç¨‹åº¦
  â”‚
  â”œâ”€â”€ å‚æ•°
  â”‚   â”œâ”€â”€ ksizeï¼šæ ¸å¤§å°ï¼ˆæ­£å¥‡æ•°ï¼‰
  â”‚   â”œâ”€â”€ sigmaXï¼šÏƒ å€¼ï¼ˆ0=è‡ªåŠ¨è®¡ç®—ï¼‰
  â”‚   â””â”€â”€ Ïƒ è¶Šå¤§ â†’ æ¨¡ç³Šè¶Šå¼º
  â”‚
  â”œâ”€â”€ ä¸å‡å€¼æ»¤æ³¢å¯¹æ¯”
  â”‚   â”œâ”€â”€ åŠ æƒå¹³å‡ vs ç­‰æƒå¹³å‡
  â”‚   â”œâ”€â”€ è¾¹ç¼˜ä¿æŒæ›´å¥½
  â”‚   â”œâ”€â”€ è§†è§‰æ•ˆæœæ›´è‡ªç„¶
  â”‚   â””â”€â”€ PSNR é€šå¸¸ç•¥ä¼˜
  â”‚
  â”œâ”€â”€ æ•°å­¦æ€§è´¨
  â”‚   â”œâ”€â”€ é«˜æ–¯æ ¸å¯åˆ†ç¦»ï¼ˆ2D = 1D Ã— 1Dï¼‰â†’ åŠ é€Ÿè®¡ç®—
  â”‚   â””â”€â”€ å¤šæ¬¡å°é«˜æ–¯ = ä¸€æ¬¡å¤§é«˜æ–¯
  â”‚
  â””â”€â”€ å¸¸ç”¨è°ƒç”¨
      â”œâ”€â”€ cv2.GaussianBlur(img, (5,5), 0)   â† æ¨è
      â””â”€â”€ cv2.getGaussianKernel(5, 1.0)     â† æŸ¥çœ‹æ ¸
```

> ğŸ’¡ **å…³é”®è¦ç‚¹ï¼š**
> 1. `cv2.GaussianBlur(img, (5,5), 0)` æ˜¯æœ€å¸¸ç”¨çš„é«˜æ–¯æ»¤æ³¢è°ƒç”¨
> 2. Ïƒ æ§åˆ¶æ¨¡ç³Šå¼ºåº¦ï¼ŒÏƒ=0 è®© OpenCV è‡ªåŠ¨æ ¹æ®æ ¸å¤§å°è®¡ç®—
> 3. é«˜æ–¯æ»¤æ³¢æ¯”å‡å€¼æ»¤æ³¢æ›´"èªæ˜"â€”â€”è¿‘é‚»æƒé‡å¤§ï¼Œè¿œé‚»æƒé‡å°
> 4. é«˜æ–¯æ ¸å¯åˆ†ç¦»çš„ç‰¹æ€§ä½¿å¾—å¤§æ ¸è®¡ç®—ä¹Ÿä¸å¤ªæ…¢
> 5. ä½†é«˜æ–¯æ»¤æ³¢ä»ç„¶ä¼šæ¨¡ç³Šè¾¹ç¼˜â€”â€”æƒ³ä¿ç•™è¾¹ç¼˜ï¼Ÿè¯·çœ‹åé¢çš„åŒè¾¹æ»¤æ³¢ï¼

---

ğŸ‘‰ [ä¸Šä¸€èŠ‚ï¼šå‡å€¼æ»¤æ³¢](../02-å‡å€¼æ»¤æ³¢/å‡å€¼æ»¤æ³¢.md) | [è¿”å›ç« èŠ‚ç›®å½•](../å›¾åƒæ»¤æ³¢.md) | [ä¸‹ä¸€èŠ‚ï¼šä¸­å€¼æ»¤æ³¢](../04-ä¸­å€¼æ»¤æ³¢/ä¸­å€¼æ»¤æ³¢.md)
